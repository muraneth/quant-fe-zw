import{j as a,c as We,T as Ue,L as Fe,D as He}from"./material-Bhy9WmQB.js";import{u as ie,g as _e,i as C,s as Y,r as D,f as w,a as K,e as qe,b as xe,c as Ge}from"./index-frvzj_K9.js";import{aF as Ve,x as V,aH as ce,aD as P,aI as Ke,aC as Xe,G as Je,Y as Ze,aJ as Qe,O as ve,g as be,_ as et,R as tt,a6 as st,aK as nt,U as at,W as rt}from"./vendor-BYJWZVdn.js";import{w as ot,a as it,c as ct,u as lt,F as dt}from"./form-render-BWbW7Kj7.js";const ue=s=>{let n;const r=new Set,e=(p,u)=>{const m=typeof p=="function"?p(n):p;if(!Object.is(m,n)){const x=n;n=u??(typeof m!="object"||m===null)?m:Object.assign({},n,m),r.forEach(c=>c(n,x))}},t=()=>n,l={setState:e,getState:t,getInitialState:()=>d,subscribe:p=>(r.add(p),()=>r.delete(p))},d=n=s(e,t,l);return l},ut=s=>s?ue(s):ue,ht=s=>s;function pt(s,n=ht){const r=React.useSyncExternalStore(s.subscribe,()=>n(s.getState()),()=>n(s.getInitialState()));return React.useDebugValue(r),r}const he=s=>{const n=ut(s),r=e=>pt(n,e);return Object.assign(r,n),r},mt=s=>s?he(s):he,ft=s=>(n,r,e)=>(e.setState=(t,o,...i)=>{const l=typeof t=="function"?Ve(t):t;return n(l,o,...i)},s(e.setState,r,e)),gt=ft,yt=s=>{const n=s;n.use={};for(const r of Object.keys(n.getState()))n.use[r]=()=>n(e=>e[r]);return n},pe={tokenInfo:{symbol:"",chain:"",create_time:"",collected:!1},selectedTimeRange:{start_time:"",end_time:""},indicatorInfo:{required_level:1,handle_name:"",name:"",description:"",doc:"",type:null,param_schema:null},base_params:{},extra_params:{},klineType:"kline",hasLevelAuth:!0,options:null,priceList:[],indicatorDetailList:[],indicatorList:[]},_=yt(mt()(gt(s=>({...pe,resetChartPanelData:({refreshChart:n})=>s(r=>{r.base_params={},r.extra_params={},r.klineType="kline",r.indicatorDetailList=null,n&&(r.options=null)}),removeChartStore:()=>s(pe),setDraftData:n=>s(r=>{n(r)})})))),_t="_searchWrapper_17krf_1",xt="_search_17krf_1",vt="_filter_17krf_18",bt="_category_17krf_21",kt="_categoryItem_17krf_29",jt="_categoryName_17krf_46",It="_categoryItemSelected_17krf_61",Tt="_group_17krf_72",wt="_groupToCategory_17krf_72",St="_groupToCategoryIcon_17krf_83",Ct="_groupToCategoryTitle_17krf_89",Pt="_groupList_17krf_95",Mt="_result_17krf_105",At="_resultToCategory_17krf_105",Dt="_resultToCategoryIcon_17krf_116",Nt="_resultToCategoryTitle_17krf_122",Ot="_resultIndicatorWrapper_17krf_128",Yt="_resultIndicatorItem_17krf_134",Bt="_indicatorItem_17krf_137",Lt="_indicatorItemLevel_17krf_151",$t="_indicatorItemLevel0_17krf_163",zt="_indicatorItemLevel1_17krf_167",Rt="_indicatorItemLevel2_17krf_171",Et="_indicatorItemLevel3_17krf_175",Wt="_indicatorName_17krf_179",Ut="_indicatorItemActive_17krf_183",I={searchWrapper:_t,search:xt,filter:vt,category:bt,categoryItem:kt,categoryName:jt,categoryItemSelected:It,group:Tt,groupToCategory:wt,groupToCategoryIcon:St,groupToCategoryTitle:Ct,groupList:Pt,result:Mt,resultToCategory:At,resultToCategoryIcon:Dt,resultToCategoryTitle:Nt,resultIndicatorWrapper:Ot,resultIndicatorItem:Yt,indicatorItem:Bt,indicatorItemLevel:Lt,indicatorItemLevel0:$t,indicatorItemLevel1:zt,indicatorItemLevel2:Rt,indicatorItemLevel3:Et,indicatorName:Wt,indicatorItemActive:Ut},Ft=({indicatorList:s,selectCategory:n})=>{const r=_.use.indicatorInfo();return a.jsx("div",{className:I.category,children:(s||[]).map(({category:e,groups:t},o)=>{const i=t.reduce((l,d)=>l+=d.indicators.length,0);return a.jsxs("div",{className:V(I.categoryItem,{[I.categoryItemSelected]:r.category===e}),onClick:()=>n(o),children:[e.length>=15?a.jsx(antd.Tooltip,{title:e,children:a.jsx("span",{className:V(I.categoryName,["common-ellipsis-1"]),children:e})}):e,a.jsx("span",{className:I.indicatorsNum,children:i})]},o)})})},ke=s=>{const{param_schema:n,category:r,handle_name:e,required_level:t,name:o,type:i}=s||{},l=_.use.setDraftData(),d=_.use.indicatorInfo(),p=_.use.resetChartPanelData(),[u,m]=ie(),x=()=>{p({refreshChart:d.category!==r||i!==d.type});const c=new URLSearchParams(u);c.set("handle_name",s.handle_name),m(c),l(f=>{f.indicatorInfo=s}),l(f=>{f.extra_params=_e(n)})};return a.jsxs("div",{className:V(I.indicatorItem,[{[I.indicatorItemActive]:d.handle_name===e}]),onClick:x,children:[a.jsx("span",{className:V(I.indicatorItemLevel,{[I[`indicatorItemLevel${t}`]]:!0}),children:`L${t}`}),a.jsx("span",{className:I.indicatorName,children:o})]})},je=({backPreView:s,indicatorList:n=[],selectedCategoryIndex:r,showBack:e=!0})=>{var i;const{items:t,defaultActiveKey:o}=React.useMemo(()=>{var p;const l=(((p=n[r])==null?void 0:p.groups)||[]).filter(u=>{var m;return((m=u.indicators)==null?void 0:m.length)>0}).map((u,m)=>{const x=u.indicators.map((c,f)=>a.jsx(ke,{...c},f));return{key:m,label:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[u.group_name,a.jsx("span",{children:u.indicators.length})]}),children:x}}),d=l.map(u=>u.key);return{items:l,defaultActiveKey:d}},[n,r]);return a.jsxs("div",{className:I.group,children:[e?a.jsxs("div",{className:I.groupToCategory,onClick:s,children:[a.jsx(ce,{className:I.groupToCategoryIcon}),a.jsx("span",{className:I.groupToCategoryTitle,children:"All Categories"})]}):null,a.jsx("div",{style:{marginLeft:20},children:(i=n[r])==null?void 0:i.category}),a.jsx("div",{className:I.groupList,children:a.jsx(antd.Collapse,{items:t,defaultActiveKey:o})})]})},Ie=({backPreView:s,indicatorList:n=[],searchKeyword:r=""})=>{const t=React.useMemo(()=>n.reduce((o,i)=>(o=o.concat(...i.groups.map(l=>l.indicators)),o),[]),[n]).filter(o=>o.name.toLowerCase().includes(r.toLowerCase()));return a.jsxs("div",{className:I.result,children:[a.jsxs("div",{className:I.resultToCategory,onClick:s,children:[a.jsx(ce,{className:I.resultToCategoryIcon}),a.jsx("span",{className:I.resultToCategoryTitle,children:"Filtered results"})]}),a.jsx("div",{className:I.resultIndicatorWrapper,children:(t||[]).map((o,i)=>a.jsx("div",{className:I.resultIndicatorItem,children:a.jsx(ke,{...o})},i))})]})};function Te({initStackList:s}){const[n,r]=C(s);return{stackTop:n[n.length-1],stackIn:i=>{r(l=>{l.push(i)})},stackOut:()=>{r(i=>{i.pop()})}}}const Ht=()=>{const s=_.use.indicatorList(),{stackTop:n,stackIn:r,stackOut:e}=Te({initStackList:[0]}),[t,o]=C(""),[i,l]=C(0),d=x=>{o(x.target.value),x.target.value?n!==2&&r(2):e()},p=x=>{l(x),r(1)},u=()=>{e(),o("")},m={0:a.jsx(Ft,{indicatorList:s,selectCategory:p}),1:a.jsx(je,{backPreView:e,indicatorList:s,selectedCategoryIndex:i}),2:a.jsx(Ie,{backPreView:u,indicatorList:s,searchKeyword:t})};return a.jsxs("div",{className:I.search,children:[a.jsx("div",{className:I.filter,children:a.jsx(antd.Input,{placeholder:"Filter Metrics",suffix:Y.filterMetries,allowClear:!0,onChange:d,value:t})}),m[n]]})},qt=()=>{const s=_.use.indicatorList(),n=React.useMemo(()=>[{groups:s.reduce((u,m)=>(u.push({group_name:m.category,indicators:m.groups.reduce((x,c)=>x.concat(c.indicators.filter(f=>f.collected)),[])}),u),[])}],[s]),[r,e]=C(""),{stackTop:t,stackIn:o,stackOut:i}=Te({initStackList:[0]}),l=u=>{e(u.target.value),u.target.value?t!==1&&o(1):i()},d=()=>{i(),e("")},p={0:a.jsx(je,{indicatorList:n,selectedCategoryIndex:0,showBack:!1}),1:a.jsx(Ie,{backPreView:d,indicatorList:n,searchKeyword:r})};return a.jsxs("div",{className:I.search,children:[a.jsx("div",{className:I.filter,children:a.jsx(antd.Input,{placeholder:"Filter Metrics",suffix:Y.filterMetries,allowClear:!0,onChange:l,value:r})}),p[t]]})};var B=(s=>(s.PRICE_LINE="price_line",s.INDEPENDENT_LINE="independent_line",s.X_BAR="x_bar",s.X_BAR_STACK="x_bar_stack",s.Y_BAR="y_bar",s.Y_BAR_STACK="y_bar_stack",s.AREA_STACK="area_stack",s))(B||{});function Gt(s){return D({url:"/data/api/token/searchToken",method:"GET",params:s})}function Vt(s){return D({url:"/data/api/token/getTokenMarketInfo",method:"GET",params:s})}function le(s){return D({url:"/data/api/base/indicatorList",method:"GET",params:s})}function Kt(s){return D({url:"/data/api/indicator",method:"POST",params:s})}function we(s){return D({url:"/data/api/base/price",method:"POST",params:s})}function Xt(s){return D({url:"/data/api/userIndicator/collectInd",method:"POST",params:s})}function Jt(s){return D({url:"/data/api/userIndicator/uncollectInd",method:"POST",params:s})}function Zt(s){return D({url:"/data/api/userIndicator/saveIndParam",method:"POST",params:s})}const Qt=[{key:"1",label:"All Indicators",children:a.jsx(Ht,{})},{key:"2",label:"My Collected",children:a.jsx(qt,{})}],es=()=>{const s=_.use.setDraftData(),{symbol:n,chain:r}=_.use.tokenInfo();return P(()=>n&&r?le({symbol:n,chain:r}):null,{onSuccess:e=>{e&&s(t=>{t.indicatorList=e})},refreshDeps:[n,r]}),a.jsx("div",{className:I.searchWrapper,children:a.jsx(antd.Tabs,{type:"line",destroyInactiveTabPane:!0,defaultActiveKey:"1",items:Qt})})},ts=({options:s})=>{const n=React.useRef(),r=React.useRef();return Ke("resize",()=>{var e;(e=r.current)==null||e.resize()}),React.useEffect(()=>{window.addEventListener("menuChange",()=>{var e;(e=r.current)==null||e.resize()})},[]),React.useEffect(()=>{r.current=echarts.init(n.current)},[]),React.useEffect(()=>{if(!s){r.current.clear();return}console.log("echartsOptions:",s),r.current.setOption(s)},[s]),a.jsx("div",{ref:n,style:{width:"100%",height:"100%"}})};function ss(s){return s.map(n=>[n.open,n.close,n.low,n.high])}const z=(s,n)=>{const r=[...s];for(;r.length<n;)r.unshift(null);return r},R=(s,n)=>{if(s!=null&&s.length)switch(n){case"kline":return{name:"Price",data:ss(s),type:"candlestick",itemStyle:{color0:"#F63C6B",color:"#0FEDBE",borderColor0:"#F63C6B",borderColor:"#0FEDBE"},yAxisIndex:0,z:0};case"avgPrice":return{name:"Avg Price",data:s.map(r=>r==null?void 0:r.avg_price),type:"line",smooth:!0,yAxisIndex:0,symbol:"none",z:0}}return{}},E=s=>({type:"category",data:s.map(n=>dayjs(n.time).format("YYYY-MM-DD"))}),Z=()=>({type:"value",position:"left",axisLabel:{formatter:function(s){return w(s)}},splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.6)",width:.3,type:"solid"}}}),W=s=>{let n=`<div style="font-size: 12px; line-height: 1.2; padding: 0px; margin: 0;">
                  <strong>Date:</strong> ${s[0].axisValue}<br/>`;return s.forEach(r=>{if(r.seriesType==="candlestick"){const[e,t,o,i,l]=r.value,d=((o-t)/t*100).toFixed(2),p=((l-i)/i*100).toFixed(2);n+=`
              <div style="margin: 2px 0; line-height: 1.2;">
                <strong>${r.seriesName}:</strong> 
                <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">Open:</span>
                   <span style="font-size: 10px;">${w(t)}</span>
                </div>
                <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">Close:</span>
                   <span style="font-size: 10px;">${w(o)}</span>
                </div>
                <div style="padding-left: 10px;">

                   <span style="color: #999; font-size: 10px;">Low:</span>
                   <span style="font-size: 10px;">${w(i)}</span>
                </div>
                <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">High:</span>
                   <span style="font-size: 10px;">${w(l)}</span>
                </div>
                 <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">Change:</span>
                  <span style="color: ${d>=0?"green":"red"};">${d}%</span>
                </div>
                <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">Amplitude:</span>
                  <span  style="font-size: 10px;">${p}%</span>
                </div>

              </div>
              
            `}else r.axisType==="yAxis.category"?n+=`
                <div>
                  <strong>${r.seriesName}:</strong> ${w(r.value)}
                </div>
          `:r.axisType==="xAxis.value"||(n+=`
                <div >
                <strong>${r.seriesName}:</strong> ${w(r.value)}
                </div>
          `)}),n},U={dataZoom:[{type:"slider",xAxisIndex:0,filterMode:"filter",backgroundColor:"#2d4137",borderColor:"transparent"},{type:"inside",xAxisIndex:0,filterMode:"filter"}],grid:{top:"10%",left:"2%",right:"2%",bottom:"12%",containLabel:!0},graphic:[{type:"text",left:"center",top:"center",style:{text:"tokenalytic.com",fontSize:60,fill:"rgba(100, 100, 0, 0.3)",textAlign:"center"}}],legend:{textStyle:{color:"#ccc"}}},Se=(s,n)=>{const r=n.reduce((u,m)=>m.low<u?m.low:u,n[0].low),e=n.reduce((u,m)=>m.high>u?m.high:u,n[0].high);let t=[...s];const o=s[0].price_range_upper-s[0].price_range_lower;if(o===0)return t=[],{newIndicatorData:t,klineMinPrice:r,klineMaxPrice:e};const i=s.reduce((u,m)=>m.price_range_upper>u?m.price_range_upper:u,s[0].price_range_upper),l=s.reduce((u,m)=>m.price_range_lower<u?m.price_range_lower:u,s[0].price_range_lower),d=Math.floor((l-r)/o),p=Math.ceil((e-i)/o);console.log("step",o),console.log("klineMinPrice",r,"klineMaxPrice",e),console.log("minPrice",l,"maxPrice",i),console.log("toFixedStepsLower",d),console.log("toFixedStepsUpper",p);for(let u=0;u<d;u++)t.unshift({price_range_lower:l-o*(u+1),price_range_upper:l-o*u,positive_value:0,negative_value:0});for(let u=0;u<p;u++)t.push({price_range_lower:i+o*u,price_range_upper:i+o*(u+1),positive_value:0,negative_value:0});return{newIndicatorData:t,klineMinPrice:r,klineMaxPrice:e}};function ns({indicatorDetailList:s,priceList:n,klineType:r}){s=z(s,n.length);const e={...U,tooltip:{trigger:"axis",formatter:function(t){return W(t)}},xAxis:[E(n)],yAxis:[{type:"value",name:"price($)",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.6)",width:.3,type:"solid"}}}],series:[]};if(n!=null&&n.length){const t=R(n,r);e.series.push(t)}return s!=null&&s.length&&e.series.push({name:"Indicator",data:s.map(t=>t==null?void 0:t.value),type:"line",areaStyle:{color:"rgba(0, 123, 255, 0.2)"},smooth:!0,symbol:"none"}),e}function me({indicatorDetailList:s,priceList:n,klineType:r}){s=z(s,n.length);const e={...U,tooltip:{trigger:"axis",formatter:function(t){return W(t)}},xAxis:n!=null&&n.length?[E(n)]:[],yAxis:[],series:[]};if(n!=null&&n.length){e.yAxis.push({type:"value",name:"price($)",position:"right",splitLine:{show:!1}});const t=R(n,r);e.series.push(t)}return s!=null&&s.length&&(e.yAxis.push(Z()),e.series.push({name:"Indicator",data:s.map(t=>t==null?void 0:t.value),type:"line",smooth:!0,symbol:"none",yAxisIndex:1})),e}function as({indicatorDetailList:s,priceList:n,klineType:r}){s=z(s,n.length);const e={...U,tooltip:{trigger:"axis",formatter:function(t){return W(t)}},xAxis:E(n),yAxis:[],series:[]};if(n!=null&&n.length){e.yAxis.push({type:"value",name:"price",position:"right",splitLine:{show:!1}});const t=R(n,r);e.series.push(t)}return s!=null&&s.length&&(e.yAxis.push(Z()),e.series.push({name:"Indicator",data:s.map(t=>t==null?void 0:t.value),type:"bar",yAxisIndex:1,barCategoryGap:"60%",itemStyle:{color:t=>t.value<0?"rgba(255, 127, 80, 0.8)":"rgba(30, 214, 255, 0.8)"}})),e}function rs({indicatorDetailList:s,priceList:n,klineType:r}){s=z(s,n.length);const e={...U,tooltip:{trigger:"axis",formatter:function(t){return W(t)}},xAxis:E(n),yAxis:[],series:[]};if(n!=null&&n.length){e.yAxis.push({type:"value",name:"price",position:"right",splitLine:{show:!1}});const t=R(n,r);e.series.push(t)}return s!=null&&s.length&&(e.yAxis.push(Z()),e.series.push({name:"Positive Value",data:s.map(t=>t==null?void 0:t.positive_value),type:"bar",stack:"x-bar-stack",itemStyle:{color:"rgba(30, 214, 255, 0.5)"},tooltip:{valueFormatter:t=>w(t)},yAxisIndex:1,barCategoryGap:"60%"}),e.series.push({name:"Negative Value",data:s.map(t=>t==null?void 0:t.negative_value),type:"bar",stack:"x-bar-stack",itemStyle:{color:" rgba(255, 127, 80, 0.5)"},tooltip:{valueFormatter:t=>w(t)},yAxisIndex:1})),e}function os({indicatorDetailList:s,priceList:n,klineType:r}){const e={...U,tooltip:{trigger:"axis",formatter:function(t){return W(t)}},xAxis:[E(n)],yAxis:[],series:[]};if(n!=null&&n.length){e.yAxis.push({type:"value",name:"price",splitLine:{show:!1},position:"right",nameLocation:"middle"});const t=R(n,r);e.series.push(t)}if(s!=null&&s.length){const{newIndicatorData:t,klineMinPrice:o,klineMaxPrice:i}=Se(s,n);e.yAxis[0].min=o,e.yAxis[0].max=i,e.xAxis.push({type:"value",name:"Volume",nameLocation:"middle",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.4)",width:.5,type:"solid"}}}),e.yAxis.push({type:"category",data:t.map(l=>l.price_range_lower),name:"Price Levels",nameLocation:"middle",position:"left",axisLabel:{formatter:function(l){return w(l)}}}),e.series.push({name:"Indicator",type:"bar",data:t.map(l=>l.total_Value),barWidth:"40%",itemStyle:{color:l=>l.value<0?"rgba(255, 127, 80, 0.4)":"rgba(30, 214, 255, 0.4)"}}),e.series[e.series.length-1].xAxisIndex=e.series.length-1,e.series[e.series.length-1].yAxisIndex=e.series.length-1}return e}function is({indicatorDetailList:s,priceList:n,klineType:r}){const e={...U,tooltip:{trigger:"axis",formatter:function(t){return W(t)}},xAxis:[E(n)],yAxis:[],series:[]};if(n!=null&&n.length&&(e.yAxis.push({type:"value",name:"price",nameLocation:"middle",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.4)",width:.5,type:"solid"}},position:"right"}),e.series.push(R(n,r))),s!=null&&s.length){const{newIndicatorData:t,klineMinPrice:o,klineMaxPrice:i}=Se(s,n);e.yAxis[0].min=w(o),e.yAxis[0].max=w(i),e.xAxis.push({type:"value",name:"Volume",nameLocation:"middle",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.4)",width:.5,type:"solid"}},axisLabel:{formatter:function(l){return w(l)}}}),e.yAxis.push({type:"category",data:t.map(l=>l.price_range_lower),name:"Price Levels",nameLocation:"middle",position:"left",axisLabel:{formatter:function(l){return w(l)}}}),e.series.push({name:"Positive Value",data:t.map(l=>l.positive_value),type:"bar",stack:"y-bar-stack",itemStyle:{color:"rgba(30, 214, 255, 0.5)"},yAxisIndex:1,xAxisIndex:1}),e.series.push({name:"Negative Value",data:t.map(l=>l.negative_value),type:"bar",stack:"y-bar-stack",itemStyle:{color:"rgba(255, 127, 80, 0.5)"},yAxisIndex:1,xAxisIndex:1})}return e}function cs({indicatorDetailList:s,priceList:n,klineType:r}){const e=z(s[0],n.length),t=z(s[1],n.length),o={...U,tooltip:{trigger:"axis",formatter:function(i){return W(i)}},xAxis:[E(n)],yAxis:[],series:[]};if(n!=null&&n.length){o.yAxis.push({type:"value",name:"price($)",position:"right",splitLine:{show:!1}});const i=R(n,r);o.series.push(i)}return s!=null&&s.length&&(o.yAxis.push(Z()),o.series.push({name:"indicator",data:e.map(i=>i==null?void 0:i.value),type:"line",areaStyle:{color:"rgba(100, 23, 25, 0.2)"},smooth:!0,symbol:"none",yAxisIndex:1}),o.series.push({name:"indicator",data:t.map(i=>i==null?void 0:i.value),type:"line",areaStyle:{color:"rgba(0, 123, 255, 0.2)"},smooth:!0,symbol:"none",yAxisIndex:1})),o}function ls({type:s,indicatorDetailList:n=[],priceList:r=[],klineType:e=""}){switch(s){case B.PRICE_LINE:return ns({indicatorDetailList:n,priceList:r,klineType:e});case B.INDEPENDENT_LINE:return me({indicatorDetailList:n,priceList:r,klineType:e});case B.X_BAR:return as({indicatorDetailList:n,priceList:r,klineType:e});case B.X_BAR_STACK:return rs({indicatorDetailList:n,priceList:r,klineType:e});case B.Y_BAR:return os({indicatorDetailList:n,priceList:r,klineType:e});case B.Y_BAR_STACK:return is({indicatorDetailList:n,priceList:r,klineType:e});case B.AREA_STACK:return cs({indicatorDetailList:n,priceList:r,klineType:e});default:return me({indicatorDetailList:n,priceList:r,klineType:e})}}const ds="_dataPanel_163ry_1",us="_maskBackground_163ry_7",hs="_echartsPanel_163ry_14",ps="_setting_163ry_14",ms="_settingTitle_163ry_20",fs="_baseSettingTitle_163ry_29",gs="_echartsWrapper_163ry_38",oe={dataPanel:ds,maskBackground:us,echartsPanel:hs,setting:ps,settingTitle:ms,baseSettingTitle:fs,echartsWrapper:gs},ys=()=>{var s=new Date,n=new Date(s.getFullYear()-1,s.getMonth(),s.getDate());return n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0")},J=()=>{var s=new Date,n=new Date(s.getFullYear(),s.getMonth()-3,s.getDate());return n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0")},_s=s=>{var n=new Date,r=new Date(n.getTime()-s*24*60*60*1e3);return r.getFullYear()+"-"+String(r.getMonth()+1).padStart(2,"0")+"-"+String(r.getDate()).padStart(2,"0")},xs=()=>{const{symbol:s,chain:n}=_.use.tokenInfo(),{start_time:r,end_time:e}=_.use.selectedTimeRange(),{handle_name:t,type:o}=_.use.indicatorInfo(),i=_.use.indicatorDetailList(),l=_.use.priceList(),d=_.use.klineType(),p=_.use.base_params(),u=_.use.extra_params(),m=_.use.options(),x=_.use.setDraftData(),{loading:c,error:f,run:b}=P(()=>{if(!s||!n||!t)return[];var k;return r?k=r:k=J(),Kt({symbol:s,chain:n,start_time:k,end_time:e,handle_name:t,base_params:p,extra_params:u})},{refreshDeps:[s,n,r,e,t,p,u],onSuccess:k=>{x(M=>{M.indicatorDetailList=k})}}),{loading:h,error:v,run:j}=P(()=>{if(!s||!n)return[];var k;return r?k=r:k=J(),we({symbol:s,chain:n,start_time:k,end_time:e})},{refreshDeps:[s,n,r,e],onSuccess:k=>{x(M=>{M.priceList=k})}});React.useEffect(()=>{Array.isArray(i)&&(l!=null&&l.length)&&d&&o&&x(k=>{k.options=ls({type:o,indicatorDetailList:i,priceList:l,klineType:d})})},[i,l,d,o]);const S=()=>f||v?a.jsx(Xe,{style:{color:"gray"},onClick:()=>{b(),j()}}):a.jsxs(a.Fragment,{children:[c||h?a.jsx(Je,{style:{fontSize:20,position:"absolute"}}):null,a.jsx(ts,{options:m})]});return a.jsx("div",{className:oe.echartsWrapper,children:S()})},vs="_maskGuide_q1h56_1",bs="_content_q1h56_15",ks="_upgradeBtn_q1h56_20",js="_upgradeBtnText_q1h56_23",q={maskGuide:vs,content:bs,upgradeBtn:ks,upgradeBtnText:js},Is=()=>{const s=K(),n=()=>{window.location.href="/sign-in"},r=()=>{window.location.href="/sign-up"},e=()=>{window.location.href="/pricing"};return a.jsx("div",{className:q.maskGuide,children:a.jsxs("div",{className:q.content,children:[Y.lock,a.jsx(antd.Typography.Title,{level:4,children:"Unlock Full Access"}),a.jsx(antd.Typography.Paragraph,{children:"Upgrade your plan to view the chart"}),a.jsx("div",{children:!s||!s.uid?a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsx(antd.Button,{className:q.upgradeBtn,onClick:r,children:" sign-up"}),a.jsx(antd.Button,{className:q.upgradeBtn,type:"primary",onClick:n,children:" sign-in"})]}):a.jsx("div",{children:a.jsx(antd.Button,{className:q.upgradeBtn,type:"primary",onClick:e,children:a.jsx("span",{className:q.upgradeBtnText,children:"Upgrade Now"})})})})]})})},Ts="_topInfo_v1ljm_1",ws="_info_v1ljm_10",Ss="_indicatorItemLevel_v1ljm_14",Cs="_indicatorItemLevel0_v1ljm_26",Ps="_indicatorItemLevel1_v1ljm_30",Ms="_indicatorItemLevel2_v1ljm_34",As="_title_v1ljm_38",X={topInfo:Ts,info:ws,indicatorItemLevel:Ss,indicatorItemLevel0:Cs,indicatorItemLevel1:Ps,indicatorItemLevel2:Ms,title:As},Ce=({handleStarClick:s,collected:n,loading:r})=>a.jsx("div",{onClick:s,style:{cursor:r?"wait":"pointer",padding:"8px"},children:n?a.jsx(Ze,{style:{color:"#fadb14",opacity:r||r?.5:1}}):a.jsx(Qe,{style:{opacity:r||r?.5:1}})}),Ds=()=>{const{symbol:s,chain:n}=_.use.tokenInfo(),{handle_name:r,collected:e}=_.use.indicatorInfo(),t=_.use.base_params(),o=_.use.extra_params(),i=_.use.setDraftData(),{run:l}=P(le,{manual:!0,onSuccess:c=>{i(f=>{f.indicatorList=c})}}),{runAsync:d,loading:p}=P(Xt,{manual:!0,onSuccess:()=>{i(c=>{c.indicatorInfo.collected=!0}),l({symbol:s,chain:n})},onError:c=>{console.error("Failed to toggle collection status:",c)},refreshDeps:[s,n]}),{runAsync:u,loading:m}=P(Jt,{manual:!0,onSuccess:()=>{i(c=>{c.indicatorInfo.collected=!1}),l({symbol:s,chain:n})},onError:c=>{console.error("Failed to toggle collection status:",c)},refreshDeps:[s,n]}),x=()=>{const c={handle_name:r,base_params:JSON.stringify(t),extra_params:JSON.stringify(o)};e?u(c):d(c)};return a.jsx(Ce,{handleStarClick:x,collected:e,loading:p||m})},Ns=()=>{const s=_.use.indicatorInfo(),n=r=>{const e=r.split(" "),o=e.length>10?`${e.slice(0,10).join(" ")}...`:r;return a.jsx(antd.Tooltip,{title:r,children:a.jsx("span",{style:{color:"#f5f5f5",fontWeight:"normal"},children:o})})};return a.jsxs("div",{className:X.topInfo,children:[a.jsxs("div",{className:X.info,children:[a.jsx("span",{className:V(X.indicatorItemLevel,{[X[`indicatorItemLevel${s.required_level}`]]:!0}),children:`L${s.required_level}`}),a.jsx("span",{className:X.title,children:s.name}),a.jsxs("div",{children:[n(s.description),s.doc&&a.jsx("a",{href:s.doc,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:"8px",color:"green",borderBottom:"1px solid green"},children:"LearnMore"})]})]}),a.jsx("div",{children:a.jsx(Ds,{})})]})},Os="_componentWrapper_1gh5g_1",Ys="_setting_1gh5g_4",Bs="_baseSetting_1gh5g_9",Ls="_title_1gh5g_13",$s="_checkboxGrop_1gh5g_29",zs="_saveParam_1gh5g_37",G={componentWrapper:Os,setting:Ys,baseSetting:Bs,title:Ls,checkboxGrop:$s,saveParam:zs};var Pe={exports:{}};(function(s,n){(function(r,e){s.exports=e()})(ve,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,t,o){var i=t.prototype,l=i.format;o.en.formats=r,i.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var p=this.$locale().formats,u=function(m,x){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(c,f,b){var h=b&&b.toUpperCase();return f||x[b]||r[b]||x[h].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,j,S){return j||S.slice(1)})})}(d,p===void 0?{}:p);return l.call(this,u)}}})})(Pe);var Rs=Pe.exports;const Es=be(Rs);var Me={exports:{}};(function(s,n){(function(r,e){s.exports=e()})(ve,function(){return function(r,e,t){e.prototype.isBetween=function(o,i,l,d){var p=t(o),u=t(i),m=(d=d||"()")[0]==="(",x=d[1]===")";return(m?this.isAfter(p,l):!this.isBefore(p,l))&&(x?this.isBefore(u,l):!this.isAfter(u,l))||(m?this.isBefore(p,l):!this.isAfter(p,l))&&(x?this.isAfter(u,l):!this.isBefore(u,l))}}})})(Me);var Ws=Me.exports;const Us=be(Ws);dayjs.extend(Es);dayjs.extend(ot);dayjs.extend(Us);dayjs.extend(it);const Fs={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Hs={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},te=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),fe=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),qs=(s,n)=>n?(...r)=>s(...r).locale(n):s;class Gs{constructor({locale:n,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=Fs,this.setLocaleToValue=e=>{const t=this.getCurrentLocaleCode();return t===e.locale()?e:e.locale(t)},this.hasUTCPlugin=()=>typeof dayjs.utc<"u",this.hasTimezonePlugin=()=>typeof dayjs.tz<"u",this.isSame=(e,t,o)=>{const i=this.setTimezone(t,this.getTimezone(e));return e.format(o)===i.format(o)},this.cleanTimezone=e=>{switch(e){case"default":return;case"system":return dayjs.tz.guess();default:return e}},this.createSystemDate=e=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const t=dayjs.tz.guess();return t!=="UTC"?dayjs.tz(e,t):dayjs(e)}return dayjs(e)},this.createUTCDate=e=>{if(!this.hasUTCPlugin())throw new Error(te);return dayjs.utc(e)},this.createTZDate=(e,t)=>{if(!this.hasUTCPlugin())throw new Error(te);if(!this.hasTimezonePlugin())throw new Error(fe);const o=e!==void 0&&!e.endsWith("Z");return dayjs(e).tz(this.cleanTimezone(t),o)},this.getLocaleFormats=()=>{const e=dayjs.Ls,t=this.locale||"en";let o=e[t];return o===void 0&&(o=e.en),o.formats},this.adjustOffset=e=>{if(!this.hasTimezonePlugin())return e;const t=this.getTimezone(e);if(t!=="UTC"){const o=e.tz(this.cleanTimezone(t),!0);if(o.$offset===(e.$offset??0))return e;e.$offset=o.$offset}return e},this.date=(e,t="default")=>{if(e===null)return null;let o;return t==="UTC"?o=this.createUTCDate(e):t==="system"||t==="default"&&!this.hasTimezonePlugin()?o=this.createSystemDate(e):o=this.createTZDate(e,t),this.locale===void 0?o:o.locale(this.locale)},this.getInvalidDate=()=>dayjs(new Date("Invalid date")),this.getTimezone=e=>{var t;if(this.hasTimezonePlugin()){const o=(t=e.$x)==null?void 0:t.$timezone;if(o)return o}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"},this.setTimezone=(e,t)=>{if(this.getTimezone(e)===t)return e;if(t==="UTC"){if(!this.hasUTCPlugin())throw new Error(te);return e.utc()}if(t==="system")return e.local();if(!this.hasTimezonePlugin()){if(t==="default")return e;throw new Error(fe)}return dayjs.tz(e,this.cleanTimezone(t))},this.toJsDate=e=>e.toDate(),this.parse=(e,t)=>e===""?null:this.dayjs(e,t,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=e=>{const t=this.getLocaleFormats(),o=i=>i.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(l,d,p)=>d||p.slice(1));return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(i,l,d)=>{const p=d&&d.toUpperCase();return l||t[d]||o(t[p])})},this.isValid=e=>e==null?!1:e.isValid(),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>this.dayjs(e).format(t),this.formatNumber=e=>e,this.isEqual=(e,t)=>e===null&&t===null?!0:e===null||t===null?!1:e.toDate().getTime()===t.toDate().getTime(),this.isSameYear=(e,t)=>this.isSame(e,t,"YYYY"),this.isSameMonth=(e,t)=>this.isSame(e,t,"YYYY-MM"),this.isSameDay=(e,t)=>this.isSame(e,t,"YYYY-MM-DD"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.isAfter=(e,t)=>e>t,this.isAfterYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()>t.utc():e.isAfter(t,"year"),this.isAfterDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()>t.utc():e.isAfter(t,"day"),this.isBefore=(e,t)=>e<t,this.isBeforeYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()<t.utc():e.isBefore(t,"year"),this.isBeforeDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()<t.utc():e.isBefore(t,"day"),this.isWithinRange=(e,[t,o])=>e>=t&&e<=o,this.startOfYear=e=>this.adjustOffset(e.startOf("year")),this.startOfMonth=e=>this.adjustOffset(e.startOf("month")),this.startOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).startOf("week")),this.startOfDay=e=>this.adjustOffset(e.startOf("day")),this.endOfYear=e=>this.adjustOffset(e.endOf("year")),this.endOfMonth=e=>this.adjustOffset(e.endOf("month")),this.endOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).endOf("week")),this.endOfDay=e=>this.adjustOffset(e.endOf("day")),this.addYears=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"year"):e.add(t,"year")),this.addMonths=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"month"):e.add(t,"month")),this.addWeeks=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"week"):e.add(t,"week")),this.addDays=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"day"):e.add(t,"day")),this.addHours=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"hour"):e.add(t,"hour")),this.addMinutes=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"minute"):e.add(t,"minute")),this.addSeconds=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"second"):e.add(t,"second")),this.getYear=e=>e.year(),this.getMonth=e=>e.month(),this.getDate=e=>e.date(),this.getHours=e=>e.hour(),this.getMinutes=e=>e.minute(),this.getSeconds=e=>e.second(),this.getMilliseconds=e=>e.millisecond(),this.setYear=(e,t)=>this.adjustOffset(e.set("year",t)),this.setMonth=(e,t)=>this.adjustOffset(e.set("month",t)),this.setDate=(e,t)=>this.adjustOffset(e.set("date",t)),this.setHours=(e,t)=>this.adjustOffset(e.set("hour",t)),this.setMinutes=(e,t)=>this.adjustOffset(e.set("minute",t)),this.setSeconds=(e,t)=>this.adjustOffset(e.set("second",t)),this.setMilliseconds=(e,t)=>this.adjustOffset(e.set("millisecond",t)),this.getDaysInMonth=e=>e.daysInMonth(),this.getWeekArray=e=>{const t=this.startOfWeek(this.startOfMonth(e)),o=this.endOfWeek(this.endOfMonth(e));let i=0,l=t;const d=[];for(;l<o;){const p=Math.floor(i/7);d[p]=d[p]||[],d[p].push(l),l=this.addDays(l,1),i+=1}return d},this.getWeekNumber=e=>e.week(),this.getYearRange=([e,t])=>{const o=this.startOfYear(e),i=this.endOfYear(t),l=[];let d=o;for(;this.isBefore(d,i);)l.push(d),d=this.addYears(d,1);return l},this.dayjs=qs(dayjs,n),this.locale=n,this.formats=et({},Hs,r),dayjs.extend(ct)}getDayOfWeek(n){return n.day()+1}}const Vs=We({palette:{mode:"dark",primary:{main:"rgba(255, 255, 255, 0.65)"},secondary:{main:"#7451ff",light:"#8f73ff"},error:{main:"#EF8F8F"},background:{default:"#121212",paper:"#1E1E1E"}},spacing:0}),Ks=s=>a.jsx(Ue,{theme:Vs,children:a.jsx(Fe,{dateAdapter:Gs,children:s.children})}),Xs="_home_iuwsz_1",Js="_customDatePicker_iuwsz_9",Zs={home:Xs,customDatePicker:Js},Qs=s=>{const{title:n,value:r,tooltip:e,onChange:t}=s,o=i=>{if(i){const l=dayjs(i).format("YYYY-MM-DD");console.log("formatTime on change",l),t(l)}};return a.jsx(Ks,{children:a.jsxs("div",{style:{marginTop:5,display:"flex"},children:[e&&a.jsx(antd.Tooltip,{title:e,children:a.jsx(tt,{style:{color:"rgba(182, 178, 178, 0.85);"}})}),a.jsx("div",{className:Zs.customDatePicker,children:a.jsx(He,{label:n,value:dayjs(r),onChange:o,slotProps:{popper:{sx:{"& .MuiDateCalendar-root":{zoom:.8}}}},sx:{"& .MuiOutlinedInput-input":{padding:"8px 14px"}}})})]})})},en=[{label:"DEX",value:"DEX"},{label:"CEX",value:"CEX"},{label:"MEV Bot",value:"MEV Bot"},{label:"Contract",value:"Contract"},{label:"Staker",value:"Staker"}],tn=()=>{var h;const s=_.use.setDraftData(),n=K(),r=_.use.base_params(),e=_.use.extra_params(),t=_.use.tokenInfo(),{param_schema:o,handle_name:i}=_.use.indicatorInfo(),{use_base_param:l,extra_params_schema:d}=JSON.parse(o||null)||{};d&&(d.displayType="inline");const p=lt();React.useEffect(()=>{p.resetFields()},[i]);const u=v=>{s(j=>{j.base_params={exclude_wallets:{by_labels:v}}})},m=v=>{s(j=>{j.extra_params=v})},{run:x}=P(le,{manual:!0,onSuccess:v=>{s(j=>{j.indicatorList=v})}}),{runAsync:c,loading:f}=P(()=>Zt({handle_name:i,symbol:t.symbol,chain:t.chain,base_params:JSON.stringify(r),extra_params:JSON.stringify(e)}),{manual:!0,onSuccess:()=>{x({symbol:t.symbol,chain:t.chain})}});function b(){return(n==null?void 0:n.level)>=3}return a.jsxs("div",{className:G.setting,children:[l?a.jsx(antd.Popover,{placement:"bottomLeft",content:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[a.jsx("h3",{style:{padding:0,margin:0},children:"Recalculate the indicator after filtering specific wallets"}),a.jsx(antd.Divider,{style:{padding:0,margin:0}}),a.jsx(antd.Checkbox.Group,{options:en.map(v=>({...v,disabled:!b()})),value:((h=r==null?void 0:r.exclude_wallets)==null?void 0:h.by_labels)||[],onChange:u,className:G.checkboxGrop}),!b()&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[a.jsx("span",{style:{color:"gray"},children:"This feature requires Advanced plan"}),a.jsx(antd.Button,{type:"primary",size:"small",onClick:()=>window.location.href="/pricing",children:"Upgrade Now"})]})]}),getPopupContainer:v=>v.parentNode,children:a.jsxs("span",{className:G.baseSetting,children:[a.jsx("span",{className:G.title,children:"Label Filter"}),a.jsx("span",{children:"DEX / CEX / MEV Bot"}),Y.downOutlined]})}):null,d?a.jsxs("div",{style:{alignItems:"center",display:"flex",color:"red"},children:[a.jsx(dt,{form:p,schema:d,widgets:{CustomDatePicker:Qs},watch:{"#":v=>{m(v)}},style:{marginLeft:24,color:"red"}}),a.jsx(antd.Button,{className:G.saveParam,onClick:c,loading:f,size:"small",children:"save"})]}):null]})},sn=()=>a.jsx("div",{className:G.componentWrapper,children:a.jsx(tn,{})}),nn="_componentWrapper_1kdnt_1",an="_calendarContainer_1kdnt_8",rn="_calendarOptions_1kdnt_17",on="_calendarOption_1kdnt_17",cn="_active_1kdnt_35",ln="_calendarPicker_1kdnt_40",dn="_iconContainer_1kdnt_58",un="_selected_1kdnt_76",L={componentWrapper:nn,calendarContainer:an,calendarOptions:rn,calendarOption:on,active:cn,calendarPicker:ln,"ant-picker-input":"_ant-picker-input_1kdnt_51","ant-picker-suffix":"_ant-picker-suffix_1kdnt_54",iconContainer:dn,selected:un},hn="_modalWrapper_16pa0_1",pn="_contentWrapper_16pa0_21",mn="_button_16pa0_27",$={modalWrapper:hn,"ant-btn":"_ant-btn_16pa0_17",contentWrapper:pn,button:mn},fn=({type:s,visible:n,onClose:r})=>s==="login"?a.jsx(antd.Modal,{title:"Login Required",open:n,onCancel:r,className:$.modalWrapper,footer:[a.jsx(antd.Button,{className:$.button,onClick:()=>window.open("/sign-up"),children:"Sign up"},"sign-up"),a.jsx(antd.Button,{type:"primary",className:$.button,onClick:()=>window.open("/sign-in"),children:"Sign in"},"login")],children:a.jsx("div",{className:$.contentWrapper,children:a.jsx("p",{children:"Please sign in to access this feature."})})}):a.jsx(antd.Modal,{title:"Upgrade Required",open:n,onCancel:r,className:$.modalWrapper,footer:[a.jsx(antd.Button,{type:"primary",className:$.button,onClick:()=>window.open("/pricing"),children:"Upgrade Now"},"upgrade")],children:a.jsxs("div",{className:$.contentWrapper,children:[a.jsx("p",{children:"Your current user level does not allow access to this feature."}),a.jsx("p",{children:"Please upgrade to plan to unlock this functionality."})]})}),{RangePicker:gn}=antd.DatePicker,yn=()=>{const[s,n]=C(!1),[r,e]=C("3M"),t=_.use.tokenInfo(),o=_.use.setDraftData(),i=K(),[l,d]=C(!1),[p,u]=C("upgrade"),m=b=>{n(b)},x=(b,h)=>{if(b&&h[0]&&h[1]){const v=dayjs(h[0]).format("YYYY-MM-DD HH:mm:ss"),j=dayjs(h[1]).format("YYYY-MM-DD HH:mm:ss");o(S=>{S.selectedTimeRange.start_time=v,S.selectedTimeRange.end_time=j}),e("")}},c=b=>{let h="",v=dayjs().format("YYYY-MM-DD HH:mm:ss");switch(b){case"1M":h=dayjs().subtract(1,"month").format("YYYY-MM-DD 00:00:00");break;case"3M":h=dayjs().subtract(3,"month").format("YYYY-MM-DD 00:00:00");break;case"1Y":if(!i.uid){u("login"),d(!0);return}if(!i.level||i.level<2){u("upgrade"),d(!0);return}h=dayjs().subtract(1,"year").format("YYYY-MM-DD 00:00:00");break;case"YTD":h=dayjs().startOf("year").format("YYYY-MM-DD 00:00:00");break;case"All":if(!i.uid){u("login"),d(!0);return}if(!i.level||i.level<3){u("upgrade"),d(!0);return}h=t.create_time;break;default:h=dayjs().subtract(3,"month").format("YYYY-MM-DD 00:00:00");break}o(j=>{j.selectedTimeRange.start_time=h,j.selectedTimeRange.end_time=v}),e(b)},f=a.jsx("div",{className:L.datePickerContainer,children:a.jsx(gn,{onChange:x})});return a.jsxs("div",{className:L.calendarContainer,children:[a.jsxs("div",{className:L.calendarOptions,children:[["1M","3M","1Y","YTD","All"].map(b=>a.jsx("span",{className:`${L.calendarOption} ${r===b?L.selected:""}`,onClick:()=>c(b),children:b},b)),a.jsx(antd.Dropdown,{overlay:f,trigger:["click"],open:s,onOpenChange:m,children:a.jsx(antd.Button,{icon:a.jsx(st,{}),className:L.calendarIcon,type:"text"})})]}),a.jsx(fn,{type:p,visible:l,onClose:()=>d(!1)})]})},_n=()=>{const s=_.use.klineType(),n=_.use.setDraftData(),r=()=>{n(e=>{e.klineType=s==="kline"?"avgPrice":"kline"})};return a.jsx("div",{onClick:r,className:L.iconContainer,children:s==="kline"?Y.switch:Y.kine})},xn=()=>a.jsxs("div",{className:L.componentWrapper,children:[a.jsx(yn,{}),a.jsx(_n,{})]}),vn="_chartSetting_1fkk0_1",bn={chartSetting:vn},kn=()=>a.jsxs("div",{className:bn.chartSetting,children:[a.jsx(sn,{}),a.jsx(xn,{})]}),jn=()=>{const s=K(),n=_.use.indicatorInfo(),r=a.jsxs("div",{children:[a.jsx(kn,{}),a.jsx(xs,{})]}),e=a.jsx(a.Fragment,{children:a.jsx(Is,{})});return a.jsx("div",{className:oe.dataPanel,children:a.jsxs("div",{className:oe.echartsPanel,children:[a.jsx(Ns,{}),n.required_level<=1?r:!s.level||s.level<n.required_level?e:r]})})},In="_charts_wvtqq_1",Tn="_top_wvtqq_7",wn="_content_wvtqq_10",ge={charts:In,top:Tn,content:wn},Sn=()=>{const s=_.use.removeChartStore();return React.useEffect(()=>()=>{s()},[s]),a.jsx("div",{className:ge.charts,children:a.jsxs("div",{className:ge.content,children:[a.jsx(es,{}),a.jsx(antd.Divider,{type:"vertical",style:{height:"calc(100% + 20px)",margin:0}}),a.jsx(jn,{})]})})},{Text:Cn}=antd.Typography,Pn={ethereum:Y.ethLogo,base:Y.baseLogo},ye=({suffixCount:s=12,children:n,className:r,title:e,chain:t})=>{const o=n==null?void 0:n.slice(0,(n==null?void 0:n.length)-s),i=n==null?void 0:n.slice(-s).trim();return a.jsxs("div",{style:{display:"flex",marginLeft:"6px",alignItems:"center"},children:[t&&Pn[t],a.jsx(Cn,{title:e,className:r,style:{maxWidth:"100%"},ellipsis:{suffix:i},children:o})]})},Mn="_header_p50pr_1",An="_leftWrapper_p50pr_7",Dn="_title_p50pr_10",Nn="_left_p50pr_7",On="_skeleton_p50pr_28",Yn="_leftTop_p50pr_32",Bn="_logo_p50pr_36",Ln="_name_p50pr_40",$n="_arrow_p50pr_48",zn="_leftBottom_p50pr_51",Rn="_right_p50pr_54",En="_itemInfo_p50pr_60",Wn="_valueInfo_p50pr_80",Un="_tokenContent_p50pr_94",Fn="_content_p50pr_100",Hn="_item_p50pr_60",qn="_itemHeader_p50pr_125",Gn="_itemHeaderName_p50pr_128",Vn="_itemHeaderDesc_p50pr_134",Kn="_rightBottom_p50pr_150",Xn="_contract_address_p50pr_155",Jn="_chainTabs_p50pr_164",T={header:Mn,leftWrapper:An,title:Dn,left:Nn,skeleton:On,leftTop:Yn,logo:Bn,name:Ln,arrow:$n,leftBottom:zn,right:Rn,itemInfo:En,valueInfo:Wn,tokenContent:Un,content:Fn,item:Hn,itemHeader:qn,itemHeaderName:Gn,itemHeaderDesc:Vn,rightBottom:Kn,contract_address:Xn,chainTabs:Jn};function Zn(s){return D({url:"/data/api/explorer/saveUserTokens",method:"POST",params:s})}function Qn(s){return D({url:"/data/api/explorer/deleteUserToken",method:"POST",params:s})}const ea=[{key:"ethereum",label:"Ethereum"},{key:"base",label:"Base"}],ta=()=>{const s=new URLSearchParams(location.search),n=s.get("chain"),r=s.get("symbol"),e=s.get("handle_name"),t=!!(n&&r&&e),[o,i]=ie(),l=React.useRef({resetFlag:t}),[d,p]=C(!1),[u,m]=C(""),[x,c]=C("ethereum"),[f,b]=C([]),[h,v]=C(null),j=_.use.setDraftData(),S=_.use.resetChartPanelData(),k=_.use.tokenInfo(),M=_.use.indicatorList();React.useEffect(()=>{M&&j(y=>{const H=(ee=>{for(const ze of ee)for(const Re of ze.groups){const de=Re.indicators.find(Ee=>Ee.handle_name===e);if(de)return de}return null})(M);if(H){y.indicatorInfo=H;const{param_schema:ee}=H||{};y.extra_params=_e(ee)}})},[M,j,e]);const{data:N=[]}=P(()=>Gt({key:u,chain:x}),{refreshDeps:[u,x],onSuccess:y=>{if(y){const A=y.find(H=>H.symbol===r&&n===H.chain);if(A&&(!k||k.symbol!==A.symbol)){v(A);return}}}});P(()=>h?Vt({symbol:h.symbol,chain:h.chain}):null,{refreshDeps:[h],onSuccess:y=>{b(y?qe(y):[])},onError:()=>{b([])}});const F=y=>{const A=new URLSearchParams(o);A.set("symbol",y.symbol),A.set("chain",y.chain),i(A),v(y),p(!1)},g=y=>{c(y),m("")},{run:Q}=nt(y=>{m(y)},{wait:200}),{run:De,loading:Ne}=P(Zn,{manual:!0,onSuccess:()=>{console.log("save token success"),j(y=>{y.tokenInfo.collected=!0})}}),{run:Oe,loading:Ye}=P(Qn,{manual:!0,onSuccess:()=>{console.log("delete token success"),j(y=>{y.tokenInfo.collected=!1})}}),Be=()=>{!k||!k.symbol||(k.collected?Oe({symbol:k.symbol,chain:k.chain}):De({tokens:[{symbol:k.symbol,chain:k.chain}]}))};React.useEffect(()=>{h&&(j(y=>{y.tokenInfo={symbol:h.symbol,chain:h.chain,create_time:h.create_time,collected:h.collected}}),l.current.resetFlag?l.current.resetFlag=!1:S({refreshChart:!0}))},[h]);const Le=y=>{y&&(window.location.href=`/studio?symbol=${h.symbol}&handle_name=${y.handle_name}&chain=${h.chain}`)},$e=a.jsxs("div",{className:T.tokenContent,children:[a.jsx(antd.Tabs,{defaultActiveKey:x,onChange:g,items:ea,className:T.chainTabs}),a.jsx("div",{className:T.search,children:a.jsx(antd.Input,{onChange:y=>{Q(y.target.value)},allowClear:!0,placeholder:"search by token name or symbol or address",style:{height:32,background:"#222324"},suffix:a.jsx(at,{style:{color:"gray"}})})}),a.jsx("div",{className:T.content,children:N==null?void 0:N.map((y,A)=>a.jsxs("div",{className:T.item,onClick:()=>{F(y)},children:[a.jsx("div",{className:T.left,children:a.jsx("img",{src:y.icon_url,alt:""})}),a.jsxs("div",{className:T.right,children:[a.jsxs("div",{className:T.itemHeader,children:[a.jsx("span",{className:T.itemHeaderName,children:y.symbol}),a.jsx("span",{className:T.itemHeaderDesc,children:y.name})]}),a.jsx("div",{className:T.rightBottom,children:a.jsx(ye,{className:T.contract_address,title:y.contract_address,children:y.contract_address})})]})]},A))})]});return a.jsxs("div",{className:T.header,children:[a.jsx("div",{className:T.leftWrapper,children:a.jsx(antd.Popover,{open:d,onOpenChange:y=>{p(y)},placement:"bottomLeft",content:$e,trigger:["click"],children:a.jsx("div",{className:T.left,children:h?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:T.leftTop,children:[a.jsx("img",{className:T.logo,src:h==null?void 0:h.icon_url,alt:""}),a.jsx("p",{className:V(T.name,["common-ellipsis-1"]),children:h==null?void 0:h.name}),a.jsx(rt,{style:{color:"rgba(255, 255, 255, 0.45)",fontWeight:"bolder"},className:T.arrow})]}),a.jsx(ye,{className:T.leftBottom,title:h==null?void 0:h.contract_address,chain:h==null?void 0:h.chain,children:h==null?void 0:h.contract_address})]}):a.jsxs("div",{className:T.skeleton,children:[a.jsx(antd.Skeleton.Avatar,{style:{marginRight:10,width:18,height:18},active:!0,size:"small"}),a.jsx(antd.Skeleton.Input,{style:{width:160,height:18},active:!0,size:"small"}),a.jsx(antd.Skeleton.Input,{style:{width:191,height:10,marginTop:7},active:!0,size:"small"})]})})})}),a.jsx("div",{className:T.right,children:f==null?void 0:f.map((y,A)=>a.jsxs("div",{className:T.itemInfo,onClick:()=>Le(y),children:[a.jsx("div",{className:T.title,children:y.title}),a.jsxs("div",{className:T.valueInfo,children:[a.jsx("span",{children:w(y.value)}),y.type!=="neutral"&&a.jsxs("span",{style:{color:y.type==="rise"?"#36F097":"#EB5757"},children:[y.type==="rise"?"+":"-",y.percentage]})]})]},A))}),a.jsx(Ce,{handleStarClick:Be,collected:k.collected,loading:Ne||Ye})]})},sa="_studio_k5fyg_1",na="_headerWrapper_k5fyg_11",se={studio:sa,headerWrapper:na,"custom-tabs":"_custom-tabs_k5fyg_19","ant-tabs-nav":"_ant-tabs-nav_k5fyg_5","ant-tabs-tab":"_ant-tabs-tab_k5fyg_22","ant-tabs-tab-btn":"_ant-tabs-tab-btn_k5fyg_25"},aa=s=>D({url:"/data/api/wallet/topWallet",method:"POST",params:s}),ra=s=>D({url:"/data/api/wallet/walletInfo",method:"POST",params:s}),oa="_tableMask_m4ti0_1",ia="_chartMask_m4ti0_16",ca="_upgradeContent_m4ti0_30",ne={tableMask:oa,chartMask:ia,upgradeContent:ca},Ae=({type:s})=>{const n=()=>{window.location.href="/pricing"},r=()=>s==="chart"?ne.chartMask:ne.tableMask;return a.jsx("div",{className:r(),children:a.jsxs("div",{className:ne.upgradeContent,children:[a.jsx("div",{children:Y.lock}),a.jsx(antd.Typography.Title,{level:4,children:"Unlock Full Access"}),a.jsx(antd.Typography.Paragraph,{children:"Upgrade your plan to view complete wallet data"}),a.jsx(antd.Button,{type:"primary",onClick:()=>n(),children:"Upgrade Now"})]})})},ae=[{label:"3M",value:"3M",requiredLevel:0,disabled:!1},{label:"1Y",value:"1Y",requiredLevel:2,disabled:!0},{label:"ALL",value:"ALL",requiredLevel:3,disabled:!0}],la=s=>{if(!s)return ae;for(const n of ae)s>=n.requiredLevel?n.disabled=!1:n.disabled=!0;return ae},da=({wallet_address:s})=>{const[n,r]=C([]),e=_.use.tokenInfo(),t=React.useRef([]),o=[],[i,l]=C([]),d=K(),[p,u]=C("3M"),m=la(d.level),x=()=>{switch(p){case"3M":return J();case"1Y":return ys();case"ALL":return e.create_time;default:return J()}},c=()=>d.level>1;P(()=>!e||!e.symbol||!e.chain?Promise.resolve([]):we({symbol:e.symbol,chain:e.chain,start_time:x(),end_time:""}),{refreshDeps:[e,p],onSuccess:h=>{l(h)}});const{loading:f}=P(()=>!e||!e.symbol||!e.chain?Promise.resolve([]):ra({symbol:e.symbol,chain:e.chain,start_time:x(),wallet_address:s}),{refreshDeps:[e,p],onSuccess:h=>{r(()=>h)}}),b=(h,v,j,S,k)=>{if(!h.current)return;const M=echarts.init(h.current);return M.setOption({title:{text:v,left:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:S},yAxis:[{type:"value",name:j[0].name,position:"left",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.4)",width:.3}}},{type:"value",name:"Index Price",position:"right",splitLine:{show:!1}}],series:j.map(N=>({name:N.name,type:N.name==="Index Price"?"line":k,data:N.data,smooth:!0,symbol:"none",yAxisIndex:N.yAxisIndex,lineStyle:N.name==="Index Price"?{color:"rgba(144, 238, 144, 0.3)"}:{},itemStyle:k==="bar"?{color:F=>F.value<0?"rgba(255, 127, 80, 0.8)":"rgba(30, 214, 255, 0.8)"}:{color:"rgba(30, 214, 255, 0.8)"}})),dataZoom:[{type:"slider",xAxisIndex:0,start:0,end:100},{type:"inside",xAxisIndex:0,start:0,end:100}]}),M};return React.useEffect(()=>{if(!n||n.length===0||!i||i.length===0)return;const h=i.map(g=>g==null?void 0:g.avg_price),v=i.map(g=>dayjs(g.time).format("YYYY-MM-DD")),j=i==null?void 0:i.length,S=z(n,j),k=S.map(g=>g==null?void 0:g.balance),M=S.map(g=>g==null?void 0:g.unrealized_pnl),N=S.map(g=>g==null?void 0:g.avg_cost),F=[b({current:t.current[0]},"Wallet Balance",[{name:"Balance",data:k,yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"line"),b({current:t.current[1]},"Balance Change",[{name:"Balance Change",data:S.map(g=>g==null?void 0:g.balance_chg),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"bar"),b({current:t.current[2]},"Average Cost",[{name:"Average Cost",data:N,yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:0}],v,"line"),b({current:t.current[3]},"Unrealized PnL",[{name:"Unrealized PnL",data:M,yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"line"),b({current:t.current[4]},"Realized PnL",[{name:"Realized PnL",data:S.map(g=>g==null?void 0:g.realized_pnl),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"bar"),b({current:t.current[5]},"Total PnL",[{name:"Total PnL",data:S.map(g=>g==null?void 0:g.total_pnl),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"line"),b({current:t.current[6]},"Avg Token Day",[{name:"Avg Token Day",data:S.map(g=>g==null?void 0:g.avg_token_day),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"line"),b({current:t.current[7]},"Token Day Destroyed",[{name:"Token Day Destroyed",data:S.map(g=>g==null?void 0:g.token_day_destory),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"bar")];return F.forEach((g,Q)=>{g&&(o[Q]=g)}),echarts.connect(o),()=>{F.forEach(g=>g&&g.dispose())}},[n,i]),a.jsx(antd.Spin,{spinning:f,children:a.jsxs("div",{style:{padding:"20px",minHeight:"100vh",justifyContent:"center"},children:[a.jsx("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"flex-end"},children:a.jsx(antd.Segmented,{options:m,value:p,onChange:h=>u(h)})}),!n||n.length===0?a.jsxs("div",{style:{textAlign:"center",fontSize:"18px",color:"#888"},children:["No data for this wallet with token ",e.symbol]}):[0,1,2,3,4,5,6,7].map((h,v)=>{const j=!c()&&v>=2&&v<=7;return a.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[a.jsx("div",{ref:S=>t.current[v]=S,style:{width:"100%",height:"300px"}}),j?a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Ae,{type:"chart"})}):null]},v)})]})})},ua={TOP_50:50,TOP_100:100,TOP_500:500,TOP_1000:1e3},O=80,re=[{label:"TOP_50",value:"TOP_50",requiredLevel:0,disabled:!1},{label:"TOP_100",value:"TOP_100",requiredLevel:2,disabled:!0},{label:"TOP_500",value:"TOP_500",requiredLevel:3,disabled:!0},{label:"TOP_1000",value:"TOP_1000",requiredLevel:4,disabled:!0}],ha=s=>{if(!s)return re;for(const n of re)s>=n.requiredLevel?n.disabled=!1:n.disabled=!0;return re},pa=()=>{const[s,n]=C([]),r=_.use.tokenInfo(),e=xe(),t=K(),[o,i]=C("TOP_50"),l=ha(t.level),{loading:d}=P(()=>!r||!r.symbol||!r.chain?Promise.resolve([]):aa({symbol:r.symbol,chain:r.chain,order_by:"balance",start_time:_s(1),top_count:ua[o]}),{refreshDeps:[r,o],onSuccess:c=>{n(()=>c)}}),p=c=>{e(`/studio?symbol=${r.symbol}&chain=${r.chain}&tab=wallet&wallet_address=${c.wallet_address}`)},u=()=>t.level>1,m=[{title:"Wallet Address",dataIndex:"wallet_address",key:"wallet_address",fixed:"left",width:100,render:c=>{const f=`${c.slice(0,6)}...${c.slice(-6)}`;return a.jsx(antd.Typography.Text,{copyable:{text:c},children:f})}},{title:"Balance",dataIndex:"balance",key:"balance",width:O,render:c=>w(c),sorter:(c,f)=>c.balance-f.balance},{title:"%",dataIndex:"percentage",key:"percentage",width:O,render:c=>`${w(c)}%`,sorter:(c,f)=>c.percentage-f.percentage},{title:"Balance USD",dataIndex:"balance_usd",key:"balance_usd",width:O,render:c=>w(c),sorter:(c,f)=>c.balance_usd-f.balance_usd},{title:"Avg Token/Day",dataIndex:"avg_token_day",key:"avg_token_day",width:O,render:c=>w(c),sorter:(c,f)=>c.avg_token_day-f.avg_token_day},{title:"Avg Cost",dataIndex:"avg_cost",key:"avg_cost",width:O,render:c=>w(c),sorter:(c,f)=>c.avg_cost-f.avg_cost},{title:"Total Cost",dataIndex:"total_cost",key:"total_cost",width:O,render:c=>w(c),sorter:(c,f)=>c.total_cost-f.total_cost},{title:"Total PNL",dataIndex:"total_pnl",key:"total_pnl",width:O,render:c=>a.jsx(antd.Typography.Text,{type:c>=0?"success":"danger",children:w(c)}),sorter:(c,f)=>c.total_pnl-f.total_pnl},{title:"Unrealized PNL",dataIndex:"unrealized_pnl",key:"unrealized_pnl",width:O,render:c=>a.jsx(antd.Typography.Text,{type:c>=0?"success":"danger",children:w(c)}),sorter:(c,f)=>c.unrealized_pnl-f.unrealized_pnl},{title:"Txs In",dataIndex:"tx_in_count",key:"tx_in_count",width:O,render:c=>c,sorter:(c,f)=>c.tx_in_count-f.tx_in_count},{title:"Txs Out",dataIndex:"tx_out_count",key:"tx_out_count",width:O,render:c=>c,sorter:(c,f)=>c.tx_out_count-f.tx_out_count},{title:"Txs",dataIndex:"total_txs",key:"total_txs",width:O,render:c=>c,sorter:(c,f)=>c.total_txs-f.total_txs},{title:"Win Rate",dataIndex:"win_rate",key:"win_rate",width:50,fixed:"right",render:c=>`${w(c*100)}%`,sorter:(c,f)=>c.win_rate-f.win_rate}],x=c=>{i(c)};return a.jsxs("div",{children:[a.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:a.jsx(antd.Segmented,{options:l,value:o,onChange:c=>x(c),disabled:d})}),a.jsx("style",{children:`
          .ant-table-cell {
            white-space: nowrap;
            padding: 8px 16px !important;
          }
          .ant-table-thead > tr > th {
            white-space: nowrap;
            padding: 12px 16px !important;
            height: 48px !important;
          }
          .ant-table-tbody > tr > td {
            line-height: 28px !important;
          }
          .ant-table-row {
            cursor: pointer;
          }
          .ant-table-row:hover {
            background-color: rgba(0, 0, 0, 0.02);
          }
          
          /* Ensure header remains clickable */
          .ant-table-header {
            z-index: 11;
            position: relative;
          }
        `}),a.jsx(antd.Table,{columns:m,dataSource:s,rowKey:"wallet_address",scroll:{x:1600,y:600},pagination:!1,loading:d,onRow:c=>({onClick:()=>p(c)}),sticky:!0}),!u()&&a.jsx(Ae,{type:"table"})]})},ma="_wallet_1o9m5_1",fa="_top_1o9m5_8",ga="_content_1o9m5_11",ya={wallet:ma,top:fa,content:ga},_a=()=>{const s=Ge(),n=xe(),r=new URLSearchParams(s.search),e=r.get("wallet_address"),t=()=>{r.delete("wallet_address");const o=r.toString(),i=`${s.pathname}${o?`?${o}`:""}`;n(i)};return a.jsx("div",{className:ya.wallet,children:e?a.jsxs("div",{children:[a.jsx(antd.Button,{type:"link",icon:a.jsx(ce,{}),onClick:t,style:{position:"absolute",top:10,left:10,zIndex:1e3},children:"Back"}),a.jsx(da,{wallet_address:e})]}):a.jsx(pa,{})})},xa=[{key:"chart",label:"CHART",children:a.jsx(Sn,{})},{key:"wallet",label:"WALLET",children:a.jsx(_a,{})}],Ia=()=>{const[s,n]=ie(),r=(s.get("tab")||"chart").toLowerCase(),e=t=>{const o=new URLSearchParams(s);o.set("tab",t),t==="chart"&&(o.delete("wallet_address"),o.get("handle_name")||o.set("handle_name","holder.all")),n(o)};return a.jsxs("div",{className:se.studio,children:[a.jsxs("div",{className:se.headerWrapper,children:[a.jsx(ta,{}),a.jsx(antd.Divider,{style:{margin:0}})]}),a.jsx(antd.Tabs,{className:se.customTabs,type:"line",defaultActiveKey:"chart",activeKey:r,items:xa,onChange:e})]})};export{Ia as default};
