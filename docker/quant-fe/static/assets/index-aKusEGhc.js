import{j as a,c as Ee,T as We,L as Ue,D as Fe}from"./material-Bhy9WmQB.js";import{u as oe,g as ye,i as C,s as O,r as D,f as w,a as V,e as He,b as _e,c as qe}from"./index-CivgfxSw.js";import{aF as Ge,x as G,aH as ie,aD as P,aI as Ve,aC as Ke,G as Xe,Y as Je,aJ as Ze,O as xe,g as ve,_ as Qe,R as et,a6 as tt,aK as nt,U as st,W as at}from"./vendor-BYJWZVdn.js";import{w as rt,a as ot,c as it,u as ct,F as lt}from"./form-render-D9KpDrMK.js";const de=n=>{let s;const r=new Set,e=(p,u)=>{const m=typeof p=="function"?p(s):p;if(!Object.is(m,s)){const x=s;s=u??(typeof m!="object"||m===null)?m:Object.assign({},s,m),r.forEach(c=>c(s,x))}},t=()=>s,l={setState:e,getState:t,getInitialState:()=>d,subscribe:p=>(r.add(p),()=>r.delete(p))},d=s=n(e,t,l);return l},dt=n=>n?de(n):de,ut=n=>n;function ht(n,s=ut){const r=React.useSyncExternalStore(n.subscribe,()=>s(n.getState()),()=>s(n.getInitialState()));return React.useDebugValue(r),r}const ue=n=>{const s=dt(n),r=e=>ht(s,e);return Object.assign(r,s),r},pt=n=>n?ue(n):ue,mt=n=>(s,r,e)=>(e.setState=(t,o,...i)=>{const l=typeof t=="function"?Ge(t):t;return s(l,o,...i)},n(e.setState,r,e)),gt=mt,ft=n=>{const s=n;s.use={};for(const r of Object.keys(s.getState()))s.use[r]=()=>s(e=>e[r]);return s},he={tokenInfo:{symbol:"",chain:"",create_time:"",collected:!1},selectedTimeRange:{start_time:"",end_time:""},indicatorInfo:{required_level:1,handle_name:"",name:"",description:"",doc:"",type:null,param_schema:null},base_params:{},extra_params:{},klineType:"kline",hasLevelAuth:!0,options:null,priceList:[],indicatorDetailList:[],indicatorList:[]},_=ft(pt()(gt(n=>({...he,resetChartPanelData:({refreshChart:s})=>n(r=>{r.base_params={},r.extra_params={},r.klineType="kline",r.indicatorDetailList=null,s&&(r.options=null)}),removeChartStore:()=>n(he),setDraftData:s=>n(r=>{s(r)})})))),yt="_searchWrapper_1evnc_1",_t="_search_1evnc_1",xt="_filter_1evnc_18",vt="_category_1evnc_21",bt="_categoryItem_1evnc_29",jt="_categoryName_1evnc_46",It="_categoryItemSelected_1evnc_61",kt="_group_1evnc_72",Tt="_groupToCategory_1evnc_72",wt="_groupToCategoryIcon_1evnc_83",St="_groupToCategoryTitle_1evnc_89",Ct="_groupList_1evnc_95",Pt="_result_1evnc_105",Mt="_resultToCategory_1evnc_105",At="_resultToCategoryIcon_1evnc_116",Dt="_resultToCategoryTitle_1evnc_122",Nt="_resultIndicatorWrapper_1evnc_128",Ot="_resultIndicatorItem_1evnc_134",Yt="_indicatorItem_1evnc_137",Bt="_indicatorItemLevel_1evnc_151",$t="_indicatorItemLevel0_1evnc_163",Lt="_indicatorItemLevel1_1evnc_167",zt="_indicatorItemLevel2_1evnc_171",Rt="_indicatorName_1evnc_175",Et="_indicatorItemActive_1evnc_179",k={searchWrapper:yt,search:_t,filter:xt,category:vt,categoryItem:bt,categoryName:jt,categoryItemSelected:It,group:kt,groupToCategory:Tt,groupToCategoryIcon:wt,groupToCategoryTitle:St,groupList:Ct,result:Pt,resultToCategory:Mt,resultToCategoryIcon:At,resultToCategoryTitle:Dt,resultIndicatorWrapper:Nt,resultIndicatorItem:Ot,indicatorItem:Yt,indicatorItemLevel:Bt,indicatorItemLevel0:$t,indicatorItemLevel1:Lt,indicatorItemLevel2:zt,indicatorName:Rt,indicatorItemActive:Et},Wt=({indicatorList:n,selectCategory:s})=>{const r=_.use.indicatorInfo();return a.jsx("div",{className:k.category,children:(n||[]).map(({category:e,groups:t},o)=>{const i=t.reduce((l,d)=>l+=d.indicators.length,0);return a.jsxs("div",{className:G(k.categoryItem,{[k.categoryItemSelected]:r.category===e}),onClick:()=>s(o),children:[e.length>=15?a.jsx(antd.Tooltip,{title:e,children:a.jsx("span",{className:G(k.categoryName,["common-ellipsis-1"]),children:e})}):e,a.jsx("span",{className:k.indicatorsNum,children:i})]},o)})})},be=n=>{const{param_schema:s,category:r,handle_name:e,required_level:t,name:o,type:i}=n||{},l=_.use.setDraftData(),d=_.use.indicatorInfo(),p=_.use.resetChartPanelData(),[u,m]=oe(),x=()=>{p({refreshChart:d.category!==r||i!==d.type});const c=new URLSearchParams(u);c.set("handle_name",n.handle_name),m(c),l(g=>{g.indicatorInfo=n}),l(g=>{g.extra_params=ye(s)})};return a.jsxs("div",{className:G(k.indicatorItem,[{[k.indicatorItemActive]:d.handle_name===e}]),onClick:x,children:[a.jsx("span",{className:G(k.indicatorItemLevel,{[k[`indicatorItemLevel${t-1}`]]:!0}),children:`L${t-1}`}),a.jsx("span",{className:k.indicatorName,children:o})]})},je=({backPreView:n,indicatorList:s=[],selectedCategoryIndex:r,showBack:e=!0})=>{var i;const{items:t,defaultActiveKey:o}=React.useMemo(()=>{var p;const l=(((p=s[r])==null?void 0:p.groups)||[]).filter(u=>{var m;return((m=u.indicators)==null?void 0:m.length)>0}).map((u,m)=>{const x=u.indicators.map((c,g)=>a.jsx(be,{...c},g));return{key:m,label:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[u.group_name,a.jsx("span",{children:u.indicators.length})]}),children:x}}),d=l.map(u=>u.key);return{items:l,defaultActiveKey:d}},[s,r]);return a.jsxs("div",{className:k.group,children:[e?a.jsxs("div",{className:k.groupToCategory,onClick:n,children:[a.jsx(ie,{className:k.groupToCategoryIcon}),a.jsx("span",{className:k.groupToCategoryTitle,children:"All Categories"})]}):null,a.jsx("div",{style:{marginLeft:20},children:(i=s[r])==null?void 0:i.category}),a.jsx("div",{className:k.groupList,children:a.jsx(antd.Collapse,{items:t,defaultActiveKey:o})})]})},Ie=({backPreView:n,indicatorList:s=[],searchKeyword:r=""})=>{const t=React.useMemo(()=>s.reduce((o,i)=>(o=o.concat(...i.groups.map(l=>l.indicators)),o),[]),[s]).filter(o=>o.name.toLowerCase().includes(r.toLowerCase()));return a.jsxs("div",{className:k.result,children:[a.jsxs("div",{className:k.resultToCategory,onClick:n,children:[a.jsx(ie,{className:k.resultToCategoryIcon}),a.jsx("span",{className:k.resultToCategoryTitle,children:"Filtered results"})]}),a.jsx("div",{className:k.resultIndicatorWrapper,children:(t||[]).map((o,i)=>a.jsx("div",{className:k.resultIndicatorItem,children:a.jsx(be,{...o})},i))})]})};function ke({initStackList:n}){const[s,r]=C(n);return{stackTop:s[s.length-1],stackIn:i=>{r(l=>{l.push(i)})},stackOut:()=>{r(i=>{i.pop()})}}}const Ut=()=>{const n=_.use.indicatorList(),{stackTop:s,stackIn:r,stackOut:e}=ke({initStackList:[0]}),[t,o]=C(""),[i,l]=C(0),d=x=>{o(x.target.value),x.target.value?s!==2&&r(2):e()},p=x=>{l(x),r(1)},u=()=>{e(),o("")},m={0:a.jsx(Wt,{indicatorList:n,selectCategory:p}),1:a.jsx(je,{backPreView:e,indicatorList:n,selectedCategoryIndex:i}),2:a.jsx(Ie,{backPreView:u,indicatorList:n,searchKeyword:t})};return a.jsxs("div",{className:k.search,children:[a.jsx("div",{className:k.filter,children:a.jsx(antd.Input,{placeholder:"Filter Metrics",suffix:O.filterMetries,allowClear:!0,onChange:d,value:t})}),m[s]]})},Ft=()=>{const n=_.use.indicatorList(),s=React.useMemo(()=>[{groups:n.reduce((u,m)=>(u.push({group_name:m.category,indicators:m.groups.reduce((x,c)=>x.concat(c.indicators.filter(g=>g.collected)),[])}),u),[])}],[n]),[r,e]=C(""),{stackTop:t,stackIn:o,stackOut:i}=ke({initStackList:[0]}),l=u=>{e(u.target.value),u.target.value?t!==1&&o(1):i()},d=()=>{i(),e("")},p={0:a.jsx(je,{indicatorList:s,selectedCategoryIndex:0,showBack:!1}),1:a.jsx(Ie,{backPreView:d,indicatorList:s,searchKeyword:r})};return a.jsxs("div",{className:k.search,children:[a.jsx("div",{className:k.filter,children:a.jsx(antd.Input,{placeholder:"Filter Metrics",suffix:O.filterMetries,allowClear:!0,onChange:l,value:r})}),p[t]]})};var Y=(n=>(n.PRICE_LINE="price_line",n.INDEPENDENT_LINE="independent_line",n.X_BAR="x_bar",n.X_BAR_STACK="x_bar_stack",n.Y_BAR="y_bar",n.Y_BAR_STACK="y_bar_stack",n.AREA_STACK="area_stack",n))(Y||{});function Ht(n){return D({url:"/data/api/token/searchToken",method:"GET",params:n})}function qt(n){return D({url:"/data/api/token/getTokenMarketInfo",method:"GET",params:n})}function ce(n){return D({url:"/data/api/base/indicatorList",method:"GET",params:n})}function Gt(n){return D({url:"/data/api/indicator",method:"POST",params:n})}function Te(n){return D({url:"/data/api/base/price",method:"POST",params:n})}function Vt(n){return D({url:"/data/api/userIndicator/collectInd",method:"POST",params:n})}function Kt(n){return D({url:"/data/api/userIndicator/uncollectInd",method:"POST",params:n})}function Xt(n){return D({url:"/data/api/userIndicator/saveIndParam",method:"POST",params:n})}const Jt=[{key:"1",label:"All Indicators",children:a.jsx(Ut,{})},{key:"2",label:"My Collected",children:a.jsx(Ft,{})}],Zt=()=>{const n=_.use.setDraftData(),{symbol:s,chain:r}=_.use.tokenInfo();return P(()=>s&&r?ce({symbol:s,chain:r}):null,{onSuccess:e=>{e&&n(t=>{t.indicatorList=e})},refreshDeps:[s,r]}),a.jsx("div",{className:k.searchWrapper,children:a.jsx(antd.Tabs,{type:"line",destroyInactiveTabPane:!0,defaultActiveKey:"1",items:Jt})})},Qt=({options:n})=>{const s=React.useRef(),r=React.useRef();return Ve("resize",()=>{var e;(e=r.current)==null||e.resize()}),React.useEffect(()=>{window.addEventListener("menuChange",()=>{var e;(e=r.current)==null||e.resize()})},[]),React.useEffect(()=>{r.current=echarts.init(s.current)},[]),React.useEffect(()=>{if(!n){r.current.clear();return}console.log("echartsOptions:",n),r.current.setOption(n)},[n]),a.jsx("div",{ref:s,style:{width:"100%",height:"100%"}})};function en(n){return n.map(s=>[s.open,s.close,s.low,s.high])}const L=(n,s)=>{const r=[...n];for(;r.length<s;)r.unshift(null);return r},z=(n,s)=>{if(n!=null&&n.length)switch(s){case"kline":return{name:"Price",data:en(n),type:"candlestick",itemStyle:{color0:"#F63C6B",color:"#0FEDBE",borderColor0:"#F63C6B",borderColor:"#0FEDBE"},yAxisIndex:0,z:0};case"avgPrice":return{name:"Avg Price",data:n.map(r=>r==null?void 0:r.avg_price),type:"line",smooth:!0,yAxisIndex:0,symbol:"none",z:0}}return{}},R=n=>({type:"category",data:n.map(s=>dayjs(s.time).format("YYYY-MM-DD"))}),J=()=>({type:"value",position:"left",axisLabel:{formatter:function(n){return w(n)}},splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.6)",width:.3,type:"solid"}}}),E=n=>{let s=`<div style="font-size: 12px; line-height: 1.2; padding: 0px; margin: 0;">
                  <strong>Date:</strong> ${n[0].axisValue}<br/>`;return n.forEach(r=>{if(r.seriesType==="candlestick"){const[e,t,o,i,l]=r.value,d=((o-t)/t*100).toFixed(2),p=((l-i)/i*100).toFixed(2);s+=`
              <div style="margin: 2px 0; line-height: 1.2;">
                <strong>${r.seriesName}:</strong> 
                <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">Open:</span>
                   <span style="font-size: 10px;">${w(t)}</span>
                </div>
                <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">Close:</span>
                   <span style="font-size: 10px;">${w(o)}</span>
                </div>
                <div style="padding-left: 10px;">

                   <span style="color: #999; font-size: 10px;">Low:</span>
                   <span style="font-size: 10px;">${w(i)}</span>
                </div>
                <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">High:</span>
                   <span style="font-size: 10px;">${w(l)}</span>
                </div>
                 <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">Change:</span>
                  <span style="color: ${d>=0?"green":"red"};">${d}%</span>
                </div>
                <div style="padding-left: 10px;">
                   <span style="color: #999; font-size: 10px;">Amplitude:</span>
                  <span  style="font-size: 10px;">${p}%</span>
                </div>

              </div>
              
            `}else r.axisType==="yAxis.category"?s+=`
                <div>
                  <strong>${r.seriesName}:</strong> ${w(r.value)}
                </div>
          `:r.axisType==="xAxis.value"||(s+=`
                <div >
                <strong>${r.seriesName}:</strong> ${w(r.value)}
                </div>
          `)}),s},W={dataZoom:[{type:"slider",xAxisIndex:0,filterMode:"filter",backgroundColor:"#2d4137",borderColor:"transparent"},{type:"inside",xAxisIndex:0,filterMode:"filter"}],grid:{top:"10%",left:"2%",right:"2%",bottom:"12%",containLabel:!0},graphic:[{type:"text",left:"center",top:"center",style:{text:"tokenalytic.com",fontSize:60,fill:"rgba(100, 100, 0, 0.3)",textAlign:"center"}}],legend:{textStyle:{color:"#ccc"}}},we=(n,s)=>{const r=s.reduce((u,m)=>m.low<u?m.low:u,s[0].low),e=s.reduce((u,m)=>m.high>u?m.high:u,s[0].high);let t=[...n];const o=n[0].price_range_upper-n[0].price_range_lower;if(o===0)return t=[],{newIndicatorData:t,klineMinPrice:r,klineMaxPrice:e};const i=n.reduce((u,m)=>m.price_range_upper>u?m.price_range_upper:u,n[0].price_range_upper),l=n.reduce((u,m)=>m.price_range_lower<u?m.price_range_lower:u,n[0].price_range_lower),d=Math.floor((l-r)/o),p=Math.ceil((e-i)/o);console.log("step",o),console.log("klineMinPrice",r,"klineMaxPrice",e),console.log("minPrice",l,"maxPrice",i),console.log("toFixedStepsLower",d),console.log("toFixedStepsUpper",p);for(let u=0;u<d;u++)t.unshift({price_range_lower:l-o*(u+1),price_range_upper:l-o*u,positive_value:0,negative_value:0});for(let u=0;u<p;u++)t.push({price_range_lower:i+o*u,price_range_upper:i+o*(u+1),positive_value:0,negative_value:0});return{newIndicatorData:t,klineMinPrice:r,klineMaxPrice:e}};function tn({indicatorDetailList:n,priceList:s,klineType:r}){n=L(n,s.length);const e={...W,tooltip:{trigger:"axis",formatter:function(t){return E(t)}},xAxis:[R(s)],yAxis:[{type:"value",name:"price($)",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.6)",width:.3,type:"solid"}}}],series:[]};if(s!=null&&s.length){const t=z(s,r);e.series.push(t)}return n!=null&&n.length&&e.series.push({name:"Indicator",data:n.map(t=>t==null?void 0:t.value),type:"line",areaStyle:{color:"rgba(0, 123, 255, 0.2)"},smooth:!0,symbol:"none"}),e}function pe({indicatorDetailList:n,priceList:s,klineType:r}){n=L(n,s.length);const e={...W,tooltip:{trigger:"axis",formatter:function(t){return E(t)}},xAxis:s!=null&&s.length?[R(s)]:[],yAxis:[],series:[]};if(s!=null&&s.length){e.yAxis.push({type:"value",name:"price($)",position:"right",splitLine:{show:!1}});const t=z(s,r);e.series.push(t)}return n!=null&&n.length&&(e.yAxis.push(J()),e.series.push({name:"Indicator",data:n.map(t=>t==null?void 0:t.value),type:"line",smooth:!0,symbol:"none",yAxisIndex:1})),e}function nn({indicatorDetailList:n,priceList:s,klineType:r}){n=L(n,s.length);const e={...W,tooltip:{trigger:"axis",formatter:function(t){return E(t)}},xAxis:R(s),yAxis:[],series:[]};if(s!=null&&s.length){e.yAxis.push({type:"value",name:"price",position:"right",splitLine:{show:!1}});const t=z(s,r);e.series.push(t)}return n!=null&&n.length&&(e.yAxis.push(J()),e.series.push({name:"Indicator",data:n.map(t=>t==null?void 0:t.value),type:"bar",yAxisIndex:1,barCategoryGap:"60%",itemStyle:{color:t=>t.value<0?"rgba(255, 127, 80, 0.8)":"rgba(30, 214, 255, 0.8)"}})),e}function sn({indicatorDetailList:n,priceList:s,klineType:r}){n=L(n,s.length);const e={...W,tooltip:{trigger:"axis",formatter:function(t){return E(t)}},xAxis:R(s),yAxis:[],series:[]};if(s!=null&&s.length){e.yAxis.push({type:"value",name:"price",position:"right",splitLine:{show:!1}});const t=z(s,r);e.series.push(t)}return n!=null&&n.length&&(e.yAxis.push(J()),e.series.push({name:"Positive Value",data:n.map(t=>t==null?void 0:t.positive_value),type:"bar",stack:"x-bar-stack",itemStyle:{color:"rgba(30, 214, 255, 0.5)"},tooltip:{valueFormatter:t=>w(t)},yAxisIndex:1,barCategoryGap:"60%"}),e.series.push({name:"Negative Value",data:n.map(t=>t==null?void 0:t.negative_value),type:"bar",stack:"x-bar-stack",itemStyle:{color:" rgba(255, 127, 80, 0.5)"},tooltip:{valueFormatter:t=>w(t)},yAxisIndex:1})),e}function an({indicatorDetailList:n,priceList:s,klineType:r}){const e={...W,tooltip:{trigger:"axis",formatter:function(t){return E(t)}},xAxis:[R(s)],yAxis:[],series:[]};if(s!=null&&s.length){e.yAxis.push({type:"value",name:"price",splitLine:{show:!1},position:"right",nameLocation:"middle"});const t=z(s,r);e.series.push(t)}if(n!=null&&n.length){const{newIndicatorData:t,klineMinPrice:o,klineMaxPrice:i}=we(n,s);e.yAxis[0].min=o,e.yAxis[0].max=i,e.xAxis.push({type:"value",name:"Volume",nameLocation:"middle",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.4)",width:.5,type:"solid"}}}),e.yAxis.push({type:"category",data:t.map(l=>l.price_range_lower),name:"Price Levels",nameLocation:"middle",position:"left",axisLabel:{formatter:function(l){return w(l)}}}),e.series.push({name:"Indicator",type:"bar",data:t.map(l=>l.total_Value),barWidth:"40%",itemStyle:{color:l=>l.value<0?"rgba(255, 127, 80, 0.4)":"rgba(30, 214, 255, 0.4)"}}),e.series[e.series.length-1].xAxisIndex=e.series.length-1,e.series[e.series.length-1].yAxisIndex=e.series.length-1}return e}function rn({indicatorDetailList:n,priceList:s,klineType:r}){const e={...W,tooltip:{trigger:"axis",formatter:function(t){return E(t)}},xAxis:[R(s)],yAxis:[],series:[]};if(s!=null&&s.length&&(e.yAxis.push({type:"value",name:"price",nameLocation:"middle",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.4)",width:.5,type:"solid"}},position:"right"}),e.series.push(z(s,r))),n!=null&&n.length){const{newIndicatorData:t,klineMinPrice:o,klineMaxPrice:i}=we(n,s);e.yAxis[0].min=w(o),e.yAxis[0].max=w(i),e.xAxis.push({type:"value",name:"Volume",nameLocation:"middle",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.4)",width:.5,type:"solid"}},axisLabel:{formatter:function(l){return w(l)}}}),e.yAxis.push({type:"category",data:t.map(l=>l.price_range_lower),name:"Price Levels",nameLocation:"middle",position:"left",axisLabel:{formatter:function(l){return w(l)}}}),e.series.push({name:"Positive Value",data:t.map(l=>l.positive_value),type:"bar",stack:"y-bar-stack",itemStyle:{color:"rgba(30, 214, 255, 0.5)"},yAxisIndex:1,xAxisIndex:1}),e.series.push({name:"Negative Value",data:t.map(l=>l.negative_value),type:"bar",stack:"y-bar-stack",itemStyle:{color:"rgba(255, 127, 80, 0.5)"},yAxisIndex:1,xAxisIndex:1})}return e}function on({indicatorDetailList:n,priceList:s,klineType:r}){const e=L(n[0],s.length),t=L(n[1],s.length),o={...W,tooltip:{trigger:"axis",formatter:function(i){return E(i)}},xAxis:[R(s)],yAxis:[],series:[]};if(s!=null&&s.length){o.yAxis.push({type:"value",name:"price($)",position:"right",splitLine:{show:!1}});const i=z(s,r);o.series.push(i)}return n!=null&&n.length&&(o.yAxis.push(J()),o.series.push({name:"indicator",data:e.map(i=>i==null?void 0:i.value),type:"line",areaStyle:{color:"rgba(100, 23, 25, 0.2)"},smooth:!0,symbol:"none",yAxisIndex:1}),o.series.push({name:"indicator",data:t.map(i=>i==null?void 0:i.value),type:"line",areaStyle:{color:"rgba(0, 123, 255, 0.2)"},smooth:!0,symbol:"none",yAxisIndex:1})),o}function cn({type:n,indicatorDetailList:s=[],priceList:r=[],klineType:e=""}){switch(n){case Y.PRICE_LINE:return tn({indicatorDetailList:s,priceList:r,klineType:e});case Y.INDEPENDENT_LINE:return pe({indicatorDetailList:s,priceList:r,klineType:e});case Y.X_BAR:return nn({indicatorDetailList:s,priceList:r,klineType:e});case Y.X_BAR_STACK:return sn({indicatorDetailList:s,priceList:r,klineType:e});case Y.Y_BAR:return an({indicatorDetailList:s,priceList:r,klineType:e});case Y.Y_BAR_STACK:return rn({indicatorDetailList:s,priceList:r,klineType:e});case Y.AREA_STACK:return on({indicatorDetailList:s,priceList:r,klineType:e});default:return pe({indicatorDetailList:s,priceList:r,klineType:e})}}const ln="_dataPanel_163ry_1",dn="_maskBackground_163ry_7",un="_echartsPanel_163ry_14",hn="_setting_163ry_14",pn="_settingTitle_163ry_20",mn="_baseSettingTitle_163ry_29",gn="_echartsWrapper_163ry_38",re={dataPanel:ln,maskBackground:dn,echartsPanel:un,setting:hn,settingTitle:pn,baseSettingTitle:mn,echartsWrapper:gn},fn=()=>{var n=new Date,s=new Date(n.getFullYear()-1,n.getMonth(),n.getDate());return s.getFullYear()+"-"+String(s.getMonth()+1).padStart(2,"0")+"-"+String(s.getDate()).padStart(2,"0")},X=()=>{var n=new Date,s=new Date(n.getFullYear(),n.getMonth()-3,n.getDate());return s.getFullYear()+"-"+String(s.getMonth()+1).padStart(2,"0")+"-"+String(s.getDate()).padStart(2,"0")},yn=n=>{var s=new Date,r=new Date(s.getTime()-n*24*60*60*1e3);return r.getFullYear()+"-"+String(r.getMonth()+1).padStart(2,"0")+"-"+String(r.getDate()).padStart(2,"0")},_n=()=>{const{symbol:n,chain:s}=_.use.tokenInfo(),{start_time:r,end_time:e}=_.use.selectedTimeRange(),{handle_name:t,type:o}=_.use.indicatorInfo(),i=_.use.indicatorDetailList(),l=_.use.priceList(),d=_.use.klineType(),p=_.use.base_params(),u=_.use.extra_params(),m=_.use.options(),x=_.use.setDraftData(),{loading:c,error:g,run:b}=P(()=>{if(!n||!s||!t)return[];var j;return r?j=r:j=X(),Gt({symbol:n,chain:s,start_time:j,end_time:e,handle_name:t,base_params:p,extra_params:u})},{refreshDeps:[n,s,r,e,t,p,u],onSuccess:j=>{x(M=>{M.indicatorDetailList=j})}}),{loading:h,error:v,run:I}=P(()=>{if(!n||!s)return[];var j;return r?j=r:j=X(),Te({symbol:n,chain:s,start_time:j,end_time:e})},{refreshDeps:[n,s,r,e],onSuccess:j=>{x(M=>{M.priceList=j})}});React.useEffect(()=>{Array.isArray(i)&&(l!=null&&l.length)&&d&&o&&x(j=>{j.options=cn({type:o,indicatorDetailList:i,priceList:l,klineType:d})})},[i,l,d,o]);const S=()=>g||v?a.jsx(Ke,{style:{color:"gray"},onClick:()=>{b(),I()}}):a.jsxs(a.Fragment,{children:[c||h?a.jsx(Xe,{style:{fontSize:20,position:"absolute"}}):null,a.jsx(Qt,{options:m})]});return a.jsx("div",{className:re.echartsWrapper,children:S()})},xn="_maskGuide_q1h56_1",vn="_content_q1h56_15",bn="_upgradeBtn_q1h56_20",jn="_upgradeBtnText_q1h56_23",H={maskGuide:xn,content:vn,upgradeBtn:bn,upgradeBtnText:jn},In=()=>{const n=V(),s=()=>{window.location.href="/sign-in"},r=()=>{window.location.href="/sign-up"},e=()=>{window.location.href="/pricing"};return a.jsx("div",{className:H.maskGuide,children:a.jsxs("div",{className:H.content,children:[O.lock,a.jsx(antd.Typography.Title,{level:4,children:"Unlock Full Access"}),a.jsx(antd.Typography.Paragraph,{children:"Upgrade your plan to view the chart"}),a.jsx("div",{children:!n||!n.level?a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsx(antd.Button,{className:H.upgradeBtn,onClick:r,children:" sign-up"}),a.jsx(antd.Button,{className:H.upgradeBtn,type:"primary",onClick:s,children:" sign-in"})]}):a.jsx("div",{children:a.jsx(antd.Button,{className:H.upgradeBtn,type:"primary",onClick:e,children:a.jsx("span",{className:H.upgradeBtnText,children:"Upgrade Now"})})})})]})})},kn="_topInfo_v1ljm_1",Tn="_info_v1ljm_10",wn="_indicatorItemLevel_v1ljm_14",Sn="_indicatorItemLevel0_v1ljm_26",Cn="_indicatorItemLevel1_v1ljm_30",Pn="_indicatorItemLevel2_v1ljm_34",Mn="_title_v1ljm_38",K={topInfo:kn,info:Tn,indicatorItemLevel:wn,indicatorItemLevel0:Sn,indicatorItemLevel1:Cn,indicatorItemLevel2:Pn,title:Mn},Se=({handleStarClick:n,collected:s,loading:r})=>a.jsx("div",{onClick:n,style:{cursor:r?"wait":"pointer",padding:"8px"},children:s?a.jsx(Je,{style:{color:"#fadb14",opacity:r||r?.5:1}}):a.jsx(Ze,{style:{opacity:r||r?.5:1}})}),An=()=>{const{symbol:n,chain:s}=_.use.tokenInfo(),{handle_name:r,collected:e}=_.use.indicatorInfo(),t=_.use.base_params(),o=_.use.extra_params(),i=_.use.setDraftData(),{run:l}=P(ce,{manual:!0,onSuccess:c=>{i(g=>{g.indicatorList=c})}}),{runAsync:d,loading:p}=P(Vt,{manual:!0,onSuccess:()=>{i(c=>{c.indicatorInfo.collected=!0}),l({symbol:n,chain:s})},onError:c=>{console.error("Failed to toggle collection status:",c)},refreshDeps:[n,s]}),{runAsync:u,loading:m}=P(Kt,{manual:!0,onSuccess:()=>{i(c=>{c.indicatorInfo.collected=!1}),l({symbol:n,chain:s})},onError:c=>{console.error("Failed to toggle collection status:",c)},refreshDeps:[n,s]}),x=()=>{const c={handle_name:r,base_params:JSON.stringify(t),extra_params:JSON.stringify(o)};e?u(c):d(c)};return a.jsx(Se,{handleStarClick:x,collected:e,loading:p||m})},Dn=()=>{const n=_.use.indicatorInfo(),s=r=>{const e=r.split(" "),o=e.length>10?`${e.slice(0,10).join(" ")}...`:r;return a.jsx(antd.Tooltip,{title:r,children:a.jsx("span",{style:{color:"#f5f5f5",fontWeight:"normal"},children:o})})};return a.jsxs("div",{className:K.topInfo,children:[a.jsxs("div",{className:K.info,children:[a.jsx("span",{className:G(K.indicatorItemLevel,{[K[`indicatorItemLevel${n.required_level-1}`]]:!0}),children:`L${n.required_level-1}`}),a.jsx("span",{className:K.title,children:n.name}),a.jsxs("div",{children:[s(n.description),n.doc&&a.jsx("a",{href:n.doc,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:"8px",color:"green",borderBottom:"1px solid green"},children:"LearnMore"})]})]}),a.jsx("div",{children:a.jsx(An,{})})]})},Nn="_componentWrapper_1gh5g_1",On="_setting_1gh5g_4",Yn="_baseSetting_1gh5g_9",Bn="_title_1gh5g_13",$n="_checkboxGrop_1gh5g_29",Ln="_saveParam_1gh5g_37",q={componentWrapper:Nn,setting:On,baseSetting:Yn,title:Bn,checkboxGrop:$n,saveParam:Ln};var Ce={exports:{}};(function(n,s){(function(r,e){n.exports=e()})(xe,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,t,o){var i=t.prototype,l=i.format;o.en.formats=r,i.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var p=this.$locale().formats,u=function(m,x){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(c,g,b){var h=b&&b.toUpperCase();return g||x[b]||r[b]||x[h].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,I,S){return I||S.slice(1)})})}(d,p===void 0?{}:p);return l.call(this,u)}}})})(Ce);var zn=Ce.exports;const Rn=ve(zn);var Pe={exports:{}};(function(n,s){(function(r,e){n.exports=e()})(xe,function(){return function(r,e,t){e.prototype.isBetween=function(o,i,l,d){var p=t(o),u=t(i),m=(d=d||"()")[0]==="(",x=d[1]===")";return(m?this.isAfter(p,l):!this.isBefore(p,l))&&(x?this.isBefore(u,l):!this.isAfter(u,l))||(m?this.isBefore(p,l):!this.isAfter(p,l))&&(x?this.isAfter(u,l):!this.isBefore(u,l))}}})})(Pe);var En=Pe.exports;const Wn=ve(En);dayjs.extend(Rn);dayjs.extend(rt);dayjs.extend(Wn);dayjs.extend(ot);const Un={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Fn={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},ee=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),me=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),Hn=(n,s)=>s?(...r)=>n(...r).locale(s):n;class qn{constructor({locale:s,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=Un,this.setLocaleToValue=e=>{const t=this.getCurrentLocaleCode();return t===e.locale()?e:e.locale(t)},this.hasUTCPlugin=()=>typeof dayjs.utc<"u",this.hasTimezonePlugin=()=>typeof dayjs.tz<"u",this.isSame=(e,t,o)=>{const i=this.setTimezone(t,this.getTimezone(e));return e.format(o)===i.format(o)},this.cleanTimezone=e=>{switch(e){case"default":return;case"system":return dayjs.tz.guess();default:return e}},this.createSystemDate=e=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const t=dayjs.tz.guess();return t!=="UTC"?dayjs.tz(e,t):dayjs(e)}return dayjs(e)},this.createUTCDate=e=>{if(!this.hasUTCPlugin())throw new Error(ee);return dayjs.utc(e)},this.createTZDate=(e,t)=>{if(!this.hasUTCPlugin())throw new Error(ee);if(!this.hasTimezonePlugin())throw new Error(me);const o=e!==void 0&&!e.endsWith("Z");return dayjs(e).tz(this.cleanTimezone(t),o)},this.getLocaleFormats=()=>{const e=dayjs.Ls,t=this.locale||"en";let o=e[t];return o===void 0&&(o=e.en),o.formats},this.adjustOffset=e=>{if(!this.hasTimezonePlugin())return e;const t=this.getTimezone(e);if(t!=="UTC"){const o=e.tz(this.cleanTimezone(t),!0);if(o.$offset===(e.$offset??0))return e;e.$offset=o.$offset}return e},this.date=(e,t="default")=>{if(e===null)return null;let o;return t==="UTC"?o=this.createUTCDate(e):t==="system"||t==="default"&&!this.hasTimezonePlugin()?o=this.createSystemDate(e):o=this.createTZDate(e,t),this.locale===void 0?o:o.locale(this.locale)},this.getInvalidDate=()=>dayjs(new Date("Invalid date")),this.getTimezone=e=>{var t;if(this.hasTimezonePlugin()){const o=(t=e.$x)==null?void 0:t.$timezone;if(o)return o}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"},this.setTimezone=(e,t)=>{if(this.getTimezone(e)===t)return e;if(t==="UTC"){if(!this.hasUTCPlugin())throw new Error(ee);return e.utc()}if(t==="system")return e.local();if(!this.hasTimezonePlugin()){if(t==="default")return e;throw new Error(me)}return dayjs.tz(e,this.cleanTimezone(t))},this.toJsDate=e=>e.toDate(),this.parse=(e,t)=>e===""?null:this.dayjs(e,t,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=e=>{const t=this.getLocaleFormats(),o=i=>i.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(l,d,p)=>d||p.slice(1));return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(i,l,d)=>{const p=d&&d.toUpperCase();return l||t[d]||o(t[p])})},this.isValid=e=>e==null?!1:e.isValid(),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>this.dayjs(e).format(t),this.formatNumber=e=>e,this.isEqual=(e,t)=>e===null&&t===null?!0:e===null||t===null?!1:e.toDate().getTime()===t.toDate().getTime(),this.isSameYear=(e,t)=>this.isSame(e,t,"YYYY"),this.isSameMonth=(e,t)=>this.isSame(e,t,"YYYY-MM"),this.isSameDay=(e,t)=>this.isSame(e,t,"YYYY-MM-DD"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.isAfter=(e,t)=>e>t,this.isAfterYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()>t.utc():e.isAfter(t,"year"),this.isAfterDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()>t.utc():e.isAfter(t,"day"),this.isBefore=(e,t)=>e<t,this.isBeforeYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()<t.utc():e.isBefore(t,"year"),this.isBeforeDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()<t.utc():e.isBefore(t,"day"),this.isWithinRange=(e,[t,o])=>e>=t&&e<=o,this.startOfYear=e=>this.adjustOffset(e.startOf("year")),this.startOfMonth=e=>this.adjustOffset(e.startOf("month")),this.startOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).startOf("week")),this.startOfDay=e=>this.adjustOffset(e.startOf("day")),this.endOfYear=e=>this.adjustOffset(e.endOf("year")),this.endOfMonth=e=>this.adjustOffset(e.endOf("month")),this.endOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).endOf("week")),this.endOfDay=e=>this.adjustOffset(e.endOf("day")),this.addYears=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"year"):e.add(t,"year")),this.addMonths=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"month"):e.add(t,"month")),this.addWeeks=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"week"):e.add(t,"week")),this.addDays=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"day"):e.add(t,"day")),this.addHours=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"hour"):e.add(t,"hour")),this.addMinutes=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"minute"):e.add(t,"minute")),this.addSeconds=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"second"):e.add(t,"second")),this.getYear=e=>e.year(),this.getMonth=e=>e.month(),this.getDate=e=>e.date(),this.getHours=e=>e.hour(),this.getMinutes=e=>e.minute(),this.getSeconds=e=>e.second(),this.getMilliseconds=e=>e.millisecond(),this.setYear=(e,t)=>this.adjustOffset(e.set("year",t)),this.setMonth=(e,t)=>this.adjustOffset(e.set("month",t)),this.setDate=(e,t)=>this.adjustOffset(e.set("date",t)),this.setHours=(e,t)=>this.adjustOffset(e.set("hour",t)),this.setMinutes=(e,t)=>this.adjustOffset(e.set("minute",t)),this.setSeconds=(e,t)=>this.adjustOffset(e.set("second",t)),this.setMilliseconds=(e,t)=>this.adjustOffset(e.set("millisecond",t)),this.getDaysInMonth=e=>e.daysInMonth(),this.getWeekArray=e=>{const t=this.startOfWeek(this.startOfMonth(e)),o=this.endOfWeek(this.endOfMonth(e));let i=0,l=t;const d=[];for(;l<o;){const p=Math.floor(i/7);d[p]=d[p]||[],d[p].push(l),l=this.addDays(l,1),i+=1}return d},this.getWeekNumber=e=>e.week(),this.getYearRange=([e,t])=>{const o=this.startOfYear(e),i=this.endOfYear(t),l=[];let d=o;for(;this.isBefore(d,i);)l.push(d),d=this.addYears(d,1);return l},this.dayjs=Hn(dayjs,s),this.locale=s,this.formats=Qe({},Fn,r),dayjs.extend(it)}getDayOfWeek(s){return s.day()+1}}const Gn=Ee({palette:{mode:"dark",primary:{main:"rgba(255, 255, 255, 0.65)"},secondary:{main:"#7451ff",light:"#8f73ff"},error:{main:"#EF8F8F"},background:{default:"#121212",paper:"#1E1E1E"}},spacing:0}),Vn=n=>a.jsx(We,{theme:Gn,children:a.jsx(Ue,{dateAdapter:qn,children:n.children})}),Kn="_home_iuwsz_1",Xn="_customDatePicker_iuwsz_9",Jn={home:Kn,customDatePicker:Xn},Zn=n=>{const{title:s,value:r,tooltip:e,onChange:t}=n,o=i=>{if(i){const l=dayjs(i).format("YYYY-MM-DD");console.log("formatTime on change",l),t(l)}};return a.jsx(Vn,{children:a.jsxs("div",{style:{marginTop:5,display:"flex"},children:[e&&a.jsx(antd.Tooltip,{title:e,children:a.jsx(et,{style:{color:"rgba(182, 178, 178, 0.85);"}})}),a.jsx("div",{className:Jn.customDatePicker,children:a.jsx(Fe,{label:s,value:dayjs(r),onChange:o,slotProps:{popper:{sx:{"& .MuiDateCalendar-root":{zoom:.8}}}},sx:{"& .MuiOutlinedInput-input":{padding:"8px 14px"}}})})]})})},Qn=[{label:"DEX",value:"DEX"},{label:"CEX",value:"CEX"},{label:"MEV Bot",value:"MEV Bot"},{label:"Contract",value:"Contract"},{label:"Staker",value:"Staker"}],es=()=>{var h;const n=_.use.setDraftData(),s=V(),r=_.use.base_params(),e=_.use.extra_params(),t=_.use.tokenInfo(),{param_schema:o,handle_name:i}=_.use.indicatorInfo(),{use_base_param:l,extra_params_schema:d}=JSON.parse(o||null)||{};d&&(d.displayType="inline");const p=ct();React.useEffect(()=>{p.resetFields()},[i]);const u=v=>{n(I=>{I.base_params={exclude_wallets:{by_labels:v}}})},m=v=>{n(I=>{I.extra_params=v})},{run:x}=P(ce,{manual:!0,onSuccess:v=>{n(I=>{I.indicatorList=v})}}),{runAsync:c,loading:g}=P(()=>Xt({handle_name:i,symbol:t.symbol,chain:t.chain,base_params:JSON.stringify(r),extra_params:JSON.stringify(e)}),{manual:!0,onSuccess:()=>{x({symbol:t.symbol,chain:t.chain})}});function b(){return(s==null?void 0:s.level)>=3}return a.jsxs("div",{className:q.setting,children:[l?a.jsx(antd.Popover,{placement:"bottomLeft",content:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[a.jsx("h3",{style:{padding:0,margin:0},children:"Recalculate the indicator after filtering specific wallets"}),a.jsx(antd.Divider,{style:{padding:0,margin:0}}),a.jsx(antd.Checkbox.Group,{options:Qn.map(v=>({...v,disabled:!b()})),value:((h=r==null?void 0:r.exclude_wallets)==null?void 0:h.by_labels)||[],onChange:u,className:q.checkboxGrop}),!b()&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[a.jsx("span",{style:{color:"gray"},children:"This feature requires Advanced plan"}),a.jsx(antd.Button,{type:"primary",size:"small",onClick:()=>window.location.href="/pricing",children:"Upgrade Now"})]})]}),getPopupContainer:v=>v.parentNode,children:a.jsxs("span",{className:q.baseSetting,children:[a.jsx("span",{className:q.title,children:"Label Filter"}),a.jsx("span",{children:"DEX / CEX / MEV Bot"}),O.downOutlined]})}):null,d?a.jsxs("div",{style:{alignItems:"center",display:"flex",color:"red"},children:[a.jsx(lt,{form:p,schema:d,widgets:{CustomDatePicker:Zn},watch:{"#":v=>{m(v)}},style:{marginLeft:24,color:"red"}}),a.jsx(antd.Button,{className:q.saveParam,onClick:c,loading:g,size:"small",children:"save"})]}):null]})},ts=()=>a.jsx("div",{className:q.componentWrapper,children:a.jsx(es,{})}),ns="_componentWrapper_1kdnt_1",ss="_calendarContainer_1kdnt_8",as="_calendarOptions_1kdnt_17",rs="_calendarOption_1kdnt_17",os="_active_1kdnt_35",is="_calendarPicker_1kdnt_40",cs="_iconContainer_1kdnt_58",ls="_selected_1kdnt_76",B={componentWrapper:ns,calendarContainer:ss,calendarOptions:as,calendarOption:rs,active:os,calendarPicker:is,"ant-picker-input":"_ant-picker-input_1kdnt_51","ant-picker-suffix":"_ant-picker-suffix_1kdnt_54",iconContainer:cs,selected:ls},ds="_modalWrapper_16pa0_1",us="_contentWrapper_16pa0_21",hs="_button_16pa0_27",$={modalWrapper:ds,"ant-btn":"_ant-btn_16pa0_17",contentWrapper:us,button:hs},ps=({type:n,visible:s,onClose:r})=>n==="login"?a.jsx(antd.Modal,{title:"Login Required",open:s,onCancel:r,className:$.modalWrapper,footer:[a.jsx(antd.Button,{className:$.button,onClick:()=>window.open("/sign-up"),children:"Sign up"},"sign-up"),a.jsx(antd.Button,{type:"primary",className:$.button,onClick:()=>window.open("/sign-in"),children:"Sign in"},"login")],children:a.jsx("div",{className:$.contentWrapper,children:a.jsx("p",{children:"Please sign in to access this feature."})})}):a.jsx(antd.Modal,{title:"Upgrade Required",open:s,onCancel:r,className:$.modalWrapper,footer:[a.jsx(antd.Button,{type:"primary",className:$.button,onClick:()=>window.open("/pricing"),children:"Upgrade Now"},"upgrade")],children:a.jsxs("div",{className:$.contentWrapper,children:[a.jsx("p",{children:"Your current user level does not allow access to this feature."}),a.jsx("p",{children:"Please upgrade to plan to unlock this functionality."})]})}),{RangePicker:ms}=antd.DatePicker,gs=()=>{const[n,s]=C(!1),[r,e]=C("3M"),t=_.use.tokenInfo(),o=_.use.setDraftData(),i=V(),[l,d]=C(!1),[p,u]=C("upgrade"),m=b=>{s(b)},x=(b,h)=>{if(b&&h[0]&&h[1]){const v=dayjs(h[0]).format("YYYY-MM-DD HH:mm:ss"),I=dayjs(h[1]).format("YYYY-MM-DD HH:mm:ss");o(S=>{S.selectedTimeRange.start_time=v,S.selectedTimeRange.end_time=I}),e("")}},c=b=>{let h="",v=dayjs().format("YYYY-MM-DD HH:mm:ss");switch(b){case"1M":h=dayjs().subtract(1,"month").format("YYYY-MM-DD 00:00:00");break;case"3M":h=dayjs().subtract(3,"month").format("YYYY-MM-DD 00:00:00");break;case"1Y":if(!i.uid){u("login"),d(!0);return}if(!i.level||i.level<2){u("upgrade"),d(!0);return}h=dayjs().subtract(1,"year").format("YYYY-MM-DD 00:00:00");break;case"YTD":h=dayjs().startOf("year").format("YYYY-MM-DD 00:00:00");break;case"All":if(!i.uid){u("login"),d(!0);return}if(!i.level||i.level<3){u("upgrade"),d(!0);return}h=t.create_time;break;default:h=dayjs().subtract(3,"month").format("YYYY-MM-DD 00:00:00");break}o(I=>{I.selectedTimeRange.start_time=h,I.selectedTimeRange.end_time=v}),e(b)},g=a.jsx("div",{className:B.datePickerContainer,children:a.jsx(ms,{onChange:x})});return a.jsxs("div",{className:B.calendarContainer,children:[a.jsxs("div",{className:B.calendarOptions,children:[["1M","3M","1Y","YTD","All"].map(b=>a.jsx("span",{className:`${B.calendarOption} ${r===b?B.selected:""}`,onClick:()=>c(b),children:b},b)),a.jsx(antd.Dropdown,{overlay:g,trigger:["click"],open:n,onOpenChange:m,children:a.jsx(antd.Button,{icon:a.jsx(tt,{}),className:B.calendarIcon,type:"text"})})]}),a.jsx(ps,{type:p,visible:l,onClose:()=>d(!1)})]})},fs=()=>{const n=_.use.klineType(),s=_.use.setDraftData(),r=()=>{s(e=>{e.klineType=n==="kline"?"avgPrice":"kline"})};return a.jsx("div",{onClick:r,className:B.iconContainer,children:n==="kline"?O.switch:O.kine})},ys=()=>a.jsxs("div",{className:B.componentWrapper,children:[a.jsx(gs,{}),a.jsx(fs,{})]}),_s="_chartSetting_1fkk0_1",xs={chartSetting:_s},vs=()=>a.jsxs("div",{className:xs.chartSetting,children:[a.jsx(ts,{}),a.jsx(ys,{})]}),bs=()=>{const n=V(),s=_.use.indicatorInfo(),r=a.jsxs("div",{children:[a.jsx(vs,{}),a.jsx(_n,{})]}),e=a.jsx(a.Fragment,{children:a.jsx(In,{})});return a.jsx("div",{className:re.dataPanel,children:a.jsxs("div",{className:re.echartsPanel,children:[a.jsx(Dn,{}),s.required_level<=1?r:!n.level||n.level<s.required_level?e:r]})})},js="_charts_wvtqq_1",Is="_top_wvtqq_7",ks="_content_wvtqq_10",ge={charts:js,top:Is,content:ks},Ts=()=>{const n=_.use.removeChartStore();return React.useEffect(()=>()=>{n()},[n]),a.jsx("div",{className:ge.charts,children:a.jsxs("div",{className:ge.content,children:[a.jsx(Zt,{}),a.jsx(antd.Divider,{type:"vertical",style:{height:"calc(100% + 20px)",margin:0}}),a.jsx(bs,{})]})})},{Text:ws}=antd.Typography,Ss={ethereum:O.ethLogo,base:O.baseLogo},fe=({suffixCount:n=12,children:s,className:r,title:e,chain:t})=>{const o=s==null?void 0:s.slice(0,(s==null?void 0:s.length)-n),i=s==null?void 0:s.slice(-n).trim();return a.jsxs("div",{style:{display:"flex",marginLeft:"6px",alignItems:"center"},children:[t&&Ss[t],a.jsx(ws,{title:e,className:r,style:{maxWidth:"100%"},ellipsis:{suffix:i},children:o})]})},Cs="_header_p50pr_1",Ps="_leftWrapper_p50pr_7",Ms="_title_p50pr_10",As="_left_p50pr_7",Ds="_skeleton_p50pr_28",Ns="_leftTop_p50pr_32",Os="_logo_p50pr_36",Ys="_name_p50pr_40",Bs="_arrow_p50pr_48",$s="_leftBottom_p50pr_51",Ls="_right_p50pr_54",zs="_itemInfo_p50pr_60",Rs="_valueInfo_p50pr_80",Es="_tokenContent_p50pr_94",Ws="_content_p50pr_100",Us="_item_p50pr_60",Fs="_itemHeader_p50pr_125",Hs="_itemHeaderName_p50pr_128",qs="_itemHeaderDesc_p50pr_134",Gs="_rightBottom_p50pr_150",Vs="_contract_address_p50pr_155",Ks="_chainTabs_p50pr_164",T={header:Cs,leftWrapper:Ps,title:Ms,left:As,skeleton:Ds,leftTop:Ns,logo:Os,name:Ys,arrow:Bs,leftBottom:$s,right:Ls,itemInfo:zs,valueInfo:Rs,tokenContent:Es,content:Ws,item:Us,itemHeader:Fs,itemHeaderName:Hs,itemHeaderDesc:qs,rightBottom:Gs,contract_address:Vs,chainTabs:Ks};function Xs(n){return D({url:"/data/api/explorer/saveUserTokens",method:"POST",params:n})}function Js(n){return D({url:"/data/api/explorer/deleteUserToken",method:"POST",params:n})}const Zs=[{key:"ethereum",label:"Ethereum"},{key:"base",label:"Base"}],Qs=()=>{const n=new URLSearchParams(location.search),s=n.get("chain"),r=n.get("symbol"),e=n.get("handle_name"),t=!!(s&&r&&e),[o,i]=oe(),l=React.useRef({resetFlag:t}),[d,p]=C(!1),[u,m]=C(""),[x,c]=C("ethereum"),[g,b]=C([]),[h,v]=C(null),I=_.use.setDraftData(),S=_.use.resetChartPanelData(),j=_.use.tokenInfo(),M=_.use.indicatorList();React.useEffect(()=>{M&&I(y=>{const F=(Q=>{for(const Le of Q)for(const ze of Le.groups){const le=ze.indicators.find(Re=>Re.handle_name===e);if(le)return le}return null})(M);if(F){y.indicatorInfo=F;const{param_schema:Q}=F||{};y.extra_params=ye(Q)}})},[M,I,e]);const{data:N=[]}=P(()=>Ht({key:u,chain:x}),{refreshDeps:[u,x],onSuccess:y=>{if(y){const A=y.find(F=>F.symbol===r&&s===F.chain);if(A&&(!j||j.symbol!==A.symbol)){v(A);return}}}});P(()=>h?qt({symbol:h.symbol,chain:h.chain}):null,{refreshDeps:[h],onSuccess:y=>{b(y?He(y):[])},onError:()=>{b([])}});const U=y=>{const A=new URLSearchParams(o);A.set("symbol",y.symbol),A.set("chain",y.chain),i(A),v(y),p(!1)},f=y=>{c(y),m("")},{run:Z}=nt(y=>{m(y)},{wait:200}),{run:Ae,loading:De}=P(Xs,{manual:!0,onSuccess:()=>{console.log("save token success"),I(y=>{y.tokenInfo.collected=!0})}}),{run:Ne,loading:Oe}=P(Js,{manual:!0,onSuccess:()=>{console.log("delete token success"),I(y=>{y.tokenInfo.collected=!1})}}),Ye=()=>{!j||!j.symbol||(j.collected?Ne({symbol:j.symbol,chain:j.chain}):Ae({tokens:[{symbol:j.symbol,chain:j.chain}]}))};React.useEffect(()=>{h&&(I(y=>{y.tokenInfo={symbol:h.symbol,chain:h.chain,create_time:h.create_time,collected:h.collected}}),l.current.resetFlag?l.current.resetFlag=!1:S({refreshChart:!0}))},[h]);const Be=y=>{y&&(window.location.href=`/studio?symbol=${h.symbol}&handle_name=${y.handle_name}&chain=${h.chain}`)},$e=a.jsxs("div",{className:T.tokenContent,children:[a.jsx(antd.Tabs,{defaultActiveKey:x,onChange:f,items:Zs,className:T.chainTabs}),a.jsx("div",{className:T.search,children:a.jsx(antd.Input,{onChange:y=>{Z(y.target.value)},allowClear:!0,placeholder:"search by token name or symbol or address",style:{height:32,background:"#222324"},suffix:a.jsx(st,{style:{color:"gray"}})})}),a.jsx("div",{className:T.content,children:N==null?void 0:N.map((y,A)=>a.jsxs("div",{className:T.item,onClick:()=>{U(y)},children:[a.jsx("div",{className:T.left,children:a.jsx("img",{src:y.icon_url,alt:""})}),a.jsxs("div",{className:T.right,children:[a.jsxs("div",{className:T.itemHeader,children:[a.jsx("span",{className:T.itemHeaderName,children:y.symbol}),a.jsx("span",{className:T.itemHeaderDesc,children:y.name})]}),a.jsx("div",{className:T.rightBottom,children:a.jsx(fe,{className:T.contract_address,title:y.contract_address,children:y.contract_address})})]})]},A))})]});return a.jsxs("div",{className:T.header,children:[a.jsx("div",{className:T.leftWrapper,children:a.jsx(antd.Popover,{open:d,onOpenChange:y=>{p(y)},placement:"bottomLeft",content:$e,trigger:["click"],children:a.jsx("div",{className:T.left,children:h?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:T.leftTop,children:[a.jsx("img",{className:T.logo,src:h==null?void 0:h.icon_url,alt:""}),a.jsx("p",{className:G(T.name,["common-ellipsis-1"]),children:h==null?void 0:h.name}),a.jsx(at,{style:{color:"rgba(255, 255, 255, 0.45)",fontWeight:"bolder"},className:T.arrow})]}),a.jsx(fe,{className:T.leftBottom,title:h==null?void 0:h.contract_address,chain:h==null?void 0:h.chain,children:h==null?void 0:h.contract_address})]}):a.jsxs("div",{className:T.skeleton,children:[a.jsx(antd.Skeleton.Avatar,{style:{marginRight:10,width:18,height:18},active:!0,size:"small"}),a.jsx(antd.Skeleton.Input,{style:{width:160,height:18},active:!0,size:"small"}),a.jsx(antd.Skeleton.Input,{style:{width:191,height:10,marginTop:7},active:!0,size:"small"})]})})})}),a.jsx("div",{className:T.right,children:g==null?void 0:g.map((y,A)=>a.jsxs("div",{className:T.itemInfo,onClick:()=>Be(y),children:[a.jsx("div",{className:T.title,children:y.title}),a.jsxs("div",{className:T.valueInfo,children:[a.jsx("span",{children:w(y.value)}),y.type!=="neutral"&&a.jsxs("span",{style:{color:y.type==="rise"?"#36F097":"#EB5757"},children:[y.type==="rise"?"+":"-",y.percentage]})]})]},A))}),a.jsx(Se,{handleStarClick:Ye,collected:j.collected,loading:De||Oe})]})},ea="_studio_k5fyg_1",ta="_headerWrapper_k5fyg_11",te={studio:ea,headerWrapper:ta,"custom-tabs":"_custom-tabs_k5fyg_19","ant-tabs-nav":"_ant-tabs-nav_k5fyg_5","ant-tabs-tab":"_ant-tabs-tab_k5fyg_22","ant-tabs-tab-btn":"_ant-tabs-tab-btn_k5fyg_25"},na=n=>D({url:"/data/api/wallet/topWallet",method:"POST",params:n}),sa=n=>D({url:"/data/api/wallet/walletInfo",method:"POST",params:n}),aa="_tableMask_m4ti0_1",ra="_chartMask_m4ti0_16",oa="_upgradeContent_m4ti0_30",ne={tableMask:aa,chartMask:ra,upgradeContent:oa},Me=({type:n})=>{const s=()=>{window.location.href="/pricing"},r=()=>n==="chart"?ne.chartMask:ne.tableMask;return a.jsx("div",{className:r(),children:a.jsxs("div",{className:ne.upgradeContent,children:[a.jsx("div",{children:O.lock}),a.jsx(antd.Typography.Title,{level:4,children:"Unlock Full Access"}),a.jsx(antd.Typography.Paragraph,{children:"Upgrade your plan to view complete wallet data"}),a.jsx(antd.Button,{type:"primary",onClick:()=>s(),children:"Upgrade Now"})]})})},se=[{label:"3M",value:"3M",requiredLevel:0,disabled:!1},{label:"1Y",value:"1Y",requiredLevel:2,disabled:!0},{label:"ALL",value:"ALL",requiredLevel:3,disabled:!0}],ia=n=>{if(!n)return se;for(const s of se)n>=s.requiredLevel?s.disabled=!1:s.disabled=!0;return se},ca=({wallet_address:n})=>{const[s,r]=C([]),e=_.use.tokenInfo(),t=React.useRef([]),o=[],[i,l]=C([]),d=V(),[p,u]=C("3M"),m=ia(d.level),x=()=>{switch(p){case"3M":return X();case"1Y":return fn();case"ALL":return e.create_time;default:return X()}},c=()=>d.level>1;P(()=>!e||!e.symbol||!e.chain?Promise.resolve([]):Te({symbol:e.symbol,chain:e.chain,start_time:x(),end_time:""}),{refreshDeps:[e,p],onSuccess:h=>{l(h)}});const{loading:g}=P(()=>!e||!e.symbol||!e.chain?Promise.resolve([]):sa({symbol:e.symbol,chain:e.chain,start_time:x(),wallet_address:n}),{refreshDeps:[e,p],onSuccess:h=>{r(()=>h)}}),b=(h,v,I,S,j)=>{if(!h.current)return;const M=echarts.init(h.current);return M.setOption({title:{text:v,left:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:S},yAxis:[{type:"value",name:I[0].name,position:"left",splitLine:{show:!0,lineStyle:{color:"rgba(200, 200, 200, 0.4)",width:.3}}},{type:"value",name:"Index Price",position:"right",splitLine:{show:!1}}],series:I.map(N=>({name:N.name,type:N.name==="Index Price"?"line":j,data:N.data,smooth:!0,symbol:"none",yAxisIndex:N.yAxisIndex,lineStyle:N.name==="Index Price"?{color:"rgba(144, 238, 144, 0.3)"}:{},itemStyle:j==="bar"?{color:U=>U.value<0?"rgba(255, 127, 80, 0.8)":"rgba(30, 214, 255, 0.8)"}:{color:"rgba(30, 214, 255, 0.8)"}})),dataZoom:[{type:"slider",xAxisIndex:0,start:0,end:100},{type:"inside",xAxisIndex:0,start:0,end:100}]}),M};return React.useEffect(()=>{if(!s||s.length===0||!i||i.length===0)return;const h=i.map(f=>f==null?void 0:f.avg_price),v=i.map(f=>dayjs(f.time).format("YYYY-MM-DD")),I=i==null?void 0:i.length,S=L(s,I),j=S.map(f=>f==null?void 0:f.balance),M=S.map(f=>f==null?void 0:f.unrealized_pnl),N=S.map(f=>f==null?void 0:f.avg_cost),U=[b({current:t.current[0]},"Wallet Balance",[{name:"Balance",data:j,yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"line"),b({current:t.current[1]},"Balance Change",[{name:"Balance Change",data:S.map(f=>f==null?void 0:f.balance_chg),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"bar"),b({current:t.current[2]},"Average Cost",[{name:"Average Cost",data:N,yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:0}],v,"line"),b({current:t.current[3]},"Unrealized PnL",[{name:"Unrealized PnL",data:M,yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"line"),b({current:t.current[4]},"Realized PnL",[{name:"Realized PnL",data:S.map(f=>f==null?void 0:f.realized_pnl),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"bar"),b({current:t.current[5]},"Total PnL",[{name:"Total PnL",data:S.map(f=>f==null?void 0:f.total_pnl),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"line"),b({current:t.current[6]},"Avg Token Day",[{name:"Avg Token Day",data:S.map(f=>f==null?void 0:f.avg_token_day),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"line"),b({current:t.current[7]},"Token Day Destroyed",[{name:"Token Day Destroyed",data:S.map(f=>f==null?void 0:f.token_day_destory),yAxisIndex:0},{name:"Index Price",data:h,yAxisIndex:1}],v,"bar")];return U.forEach((f,Z)=>{f&&(o[Z]=f)}),echarts.connect(o),()=>{U.forEach(f=>f&&f.dispose())}},[s,i]),a.jsx(antd.Spin,{spinning:g,children:a.jsxs("div",{style:{padding:"20px",minHeight:"100vh",justifyContent:"center"},children:[a.jsx("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"flex-end"},children:a.jsx(antd.Segmented,{options:m,value:p,onChange:h=>u(h)})}),!s||s.length===0?a.jsxs("div",{style:{textAlign:"center",fontSize:"18px",color:"#888"},children:["No data for this wallet with token ",e.symbol]}):[0,1,2,3,4,5,6,7].map((h,v)=>{const I=!c()&&v>=2&&v<=7;return a.jsxs("div",{style:{marginBottom:"20px",position:"relative"},children:[a.jsx("div",{ref:S=>t.current[v]=S,style:{width:"100%",height:"300px"}}),I?a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Me,{type:"chart"})}):null]},v)})]})})},la={TOP_50:50,TOP_100:100,TOP_500:500},ae=[{label:"TOP_50",value:"TOP_50",requiredLevel:0,disabled:!1},{label:"TOP_100",value:"TOP_100",requiredLevel:2,disabled:!0},{label:"TOP_500",value:"TOP_500",requiredLevel:3,disabled:!0}],da=n=>{if(!n)return ae;for(const s of ae)n>=s.requiredLevel?s.disabled=!1:s.disabled=!0;return ae},ua=()=>{const[n,s]=C([]),r=_.use.tokenInfo(),e=_e(),t=V(),[o,i]=C("TOP_50"),l=da(t.level),{loading:d}=P(()=>!r||!r.symbol||!r.chain?Promise.resolve([]):na({symbol:r.symbol,chain:r.chain,order_by:"balance",start_time:yn(1),top_count:la[o]}),{refreshDeps:[r,o],onSuccess:c=>{s(()=>c)}}),p=c=>{e(`/studio?symbol=${r.symbol}&chain=${r.chain}&tab=wallet&wallet_address=${c.wallet_address}`)},u=()=>t.level>1,m=[{title:"Wallet Address",dataIndex:"wallet_address",key:"wallet_address",fixed:"left",width:100,render:c=>{const g=`${c.slice(0,6)}...${c.slice(-6)}`;return a.jsx(antd.Typography.Text,{copyable:{text:c},children:g})}},{title:"Balance",dataIndex:"balance",key:"balance",width:80,render:c=>w(c),sorter:(c,g)=>c.balance-g.balance},{title:"%",dataIndex:"percentage",key:"percentage",width:80,render:c=>`${w(c)}%`,sorter:(c,g)=>c.percentage-g.percentage},{title:"Balance USD",dataIndex:"balance_usd",key:"balance_usd",width:80,render:c=>w(c),sorter:(c,g)=>c.balance_usd-g.balance_usd},{title:"Avg Token/Day",dataIndex:"avg_token_day",key:"avg_token_day",width:80,render:c=>w(c),sorter:(c,g)=>c.avg_token_day-g.avg_token_day},{title:"Avg Cost",dataIndex:"avg_cost",key:"avg_cost",width:80,render:c=>w(c),sorter:(c,g)=>c.avg_cost-g.avg_cost},{title:"Total Cost",dataIndex:"total_cost",key:"total_cost",width:80,render:c=>w(c),sorter:(c,g)=>c.total_cost-g.total_cost},{title:"Total PNL",dataIndex:"total_pnl",key:"total_pnl",width:80,render:c=>a.jsx(antd.Typography.Text,{type:c>=0?"success":"danger",children:w(c)}),sorter:(c,g)=>c.total_pnl-g.total_pnl},{title:"Unrealized PNL",dataIndex:"unrealized_pnl",key:"unrealized_pnl",width:80,render:c=>a.jsx(antd.Typography.Text,{type:c>=0?"success":"danger",children:w(c)}),sorter:(c,g)=>c.unrealized_pnl-g.unrealized_pnl},{title:"Txs In",dataIndex:"tx_in_count",key:"tx_in_count",width:80,render:c=>c,sorter:(c,g)=>c.tx_in_count-g.tx_in_count},{title:"Txs Out",dataIndex:"tx_out_count",key:"tx_out_count",width:80,render:c=>c,sorter:(c,g)=>c.tx_out_count-g.tx_out_count},{title:"Win Rate",dataIndex:"win_rate",key:"win_rate",width:80,render:c=>`${w(c*100)}%`,sorter:(c,g)=>c.win_rate-g.win_rate},{title:"Txs",dataIndex:"total_txs",key:"total_txs",width:80,fixed:"right",render:c=>c,sorter:(c,g)=>c.total_txs-g.total_txs}],x=c=>{i(c)};return a.jsxs("div",{children:[a.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:a.jsx(antd.Segmented,{options:l,value:o,onChange:c=>x(c),disabled:d})}),a.jsx("style",{children:`
          .ant-table-cell {
            white-space: nowrap;
            padding: 8px 16px !important;
          }
          .ant-table-thead > tr > th {
            white-space: nowrap;
            padding: 12px 16px !important;
            height: 48px !important;
          }
          .ant-table-tbody > tr > td {
            line-height: 28px !important;
          }
          .ant-table-row {
            cursor: pointer;
          }
          .ant-table-row:hover {
            background-color: rgba(0, 0, 0, 0.02);
          }
          
          /* Ensure header remains clickable */
          .ant-table-header {
            z-index: 11;
            position: relative;
          }
        `}),a.jsx(antd.Table,{columns:m,dataSource:n,rowKey:"wallet_address",scroll:{x:1600,y:600},pagination:!1,loading:d,onRow:c=>({onClick:()=>p(c)}),sticky:!0}),!u()&&a.jsx(Me,{type:"table"})]})},ha="_wallet_1o9m5_1",pa="_top_1o9m5_8",ma="_content_1o9m5_11",ga={wallet:ha,top:pa,content:ma},fa=()=>{const n=qe(),s=_e(),r=new URLSearchParams(n.search),e=r.get("wallet_address"),t=()=>{r.delete("wallet_address");const o=r.toString(),i=`${n.pathname}${o?`?${o}`:""}`;s(i)};return a.jsx("div",{className:ga.wallet,children:e?a.jsxs("div",{children:[a.jsx(antd.Button,{type:"link",icon:a.jsx(ie,{}),onClick:t,style:{position:"absolute",top:10,left:10,zIndex:1e3},children:"Back"}),a.jsx(ca,{wallet_address:e})]}):a.jsx(ua,{})})},ya=[{key:"chart",label:"CHART",children:a.jsx(Ts,{})},{key:"wallet",label:"WALLET",children:a.jsx(fa,{})}],ja=()=>{const[n,s]=oe(),r=(n.get("tab")||"chart").toLowerCase(),e=t=>{const o=new URLSearchParams(n);o.set("tab",t),t==="chart"&&(o.delete("wallet_address"),o.get("handle_name")||o.set("handle_name","holder.all")),s(o)};return a.jsxs("div",{className:te.studio,children:[a.jsxs("div",{className:te.headerWrapper,children:[a.jsx(Qs,{}),a.jsx(antd.Divider,{style:{margin:0}})]}),a.jsx(antd.Tabs,{className:te.customTabs,type:"line",defaultActiveKey:"chart",activeKey:r,items:ya,onChange:e})]})};export{ja as default};
